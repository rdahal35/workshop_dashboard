(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+Sjy":function(e,t,o){"use strict";o.d(t,"f",function(){return f}),o.d(t,"d",function(){return h}),o.d(t,"e",function(){return g}),o.d(t,"a",function(){return I}),o.d(t,"b",function(){return O}),o.d(t,"c",function(){return S});var n=o("vJtL"),r=o("Z3Pq"),a=o("t85p"),s=o("yHhI"),i=o("ayyL"),c=o("D6w7"),d=o("1tsX"),l=o("g+Y+"),u=o("2cus"),m=o("kcos");const p=[{path:"composer",id:"Pcomposer",isEnabled:e=>Object(l.g)(e)},{path:"drafts",id:"Pdrafts",isEnabled:e=>Object(l.g)(e)},{path:"example",id:"Pexample",isEnabled:e=>Object(a.m)(e,"feature_pages_example")},{path:"home",id:"Phome",isEnabled:e=>Object(c.e)(e)},{path:"unreads",id:"Punreads"},{path:"learning-slack",id:"Pwelcome",isEnabled:e=>Object(i.s)(e)},{path:"apps",id:"Papps",isEnabled:e=>Object(d.a)(e)},{path:"recent",id:"Precent",isEnabled:e=>Object(m.c)(e)},{path:"activity-page",id:"Pactivity",isEnabled:e=>Object(m.c)(e)},{path:"stars",id:"Pstars",isEnabled:e=>Object(m.c)(e)},{path:"files-page",id:"Pfiles",isEnabled:e=>Object(m.c)(e)},{path:"browse-files",id:"Pbrowse-files",isEnabled:e=>Object(m.a)(e)},{path:"people-page",id:"Pdirectory",isEnabled:e=>Object(m.c)(e)},{path:"edit-profile",id:"Pprofile",isEnabled:e=>Object(m.c)(e)},{path:"preferences",id:"Psettings",isEnabled:e=>Object(m.c)(e)},{path:"browse-channels",id:"Pbrowse-channels",isEnabled:e=>Object(m.c)(e)},{path:"browse-dms",id:"Pbrowse-dms",isEnabled:e=>Object(m.c)(e)},{path:"help",id:"Phelp",isEnabled:e=>Object(m.c)(e)},{path:"paid-benefits",id:"Ppaid-benefits",isEnabled:e=>Object(u.n)(e)}],b=Object(r.a)(p,"id"),_=Object(r.a)(p,"path");_.unreads.id;function f(e){return!!_[e]}function h(e,t){return!!t&&(Object(n.a)(t.isEnabled)?!!t.isEnabled(e):void 0===t.isEnabled||(Object(s.b)().error("PAGES",`Page ${t.id} has an invalid isEnabled property - it needs to either be a function or undefined`),!1))}function g(e,t){return h(e,O(t))}function I(){return p}function O(e){return b[e]}function S(e){return _[e]}},"/Bt+":function(e,t,o){"use strict";var n=o("Z7Ay"),r=o("brL+"),a=o("t85p"),s=o("JtEI"),i=o("TdUT"),c=o("yHhI"),d=o("jzln"),l=o("iJtp"),u=o("QbLZ"),m=o.n(u),p=o("fujP"),b=o("nfDz"),_=o("ifKl");const f={string:[0,"v_str"],boolean:[1,"v_bool"],number:[2,"v_int64"]},h={teamId:"team_id",userId:"user_id",enterpriseId:"enterprise_id",versionTs:"version",subAppName:"sub_app_name",sessionId:"session_id"};function g(e){return void 0!==f[typeof e]}var I=o("oLrU");class BaseTracer{constructor({traceId:e}={}){this._spans={},this._traceId=e}getTraceId(){return this._traceId}getSpans(){return this._spans}clear(){Object.keys(this._spans).forEach(e=>{delete this._spans[e]})}startSpan(e,t={}){return this._startSpan(e,t)}inject(){throw new Error("This function is not implemented")}extract(){throw new Error("This function is not implemented")}_startSpan(){return{}}}class base_span_BaseSpan{constructor(e,{startTime:t=Date.now(),tags:o={},id:n=null,parentSpan:r=null}={}){if(!e)throw new Error("All spans require a tracer instance.");if(!(e instanceof BaseTracer))throw new Error("Spans should only be created by classes derived from BaseTracer.");this._tracer=e,this._id=n,this._name=null,this._tags=o,this._startTimeMs=t,this._parentSpan=r&&r instanceof base_span_BaseSpan?r:null,this._closeTimeMs=null}getId(){return this._id}getParentId(){return this._parentSpan?this._parentSpan.getId():""}getStartTimeMs(){return this._startTimeMs}getCloseTimeMs(){return this._closeTimeMs}getDurationMs(){const e=this.getCloseTimeMs();return e?e-this.getStartTimeMs():0}getOperationName(){return this._name}getTags(){return this._tags}isActive(){return!this._closeTimeMs}tracer(){return this._tracer}setOperationName(e){return this._name=e,this}addTags(e){return this._tags=m()({},this._tags,e),this}setTag(e,t){return this.addTags({[e]:t}),this}close(e=Date.now()){this._closeTimeMs=e}log(){throw new Error("This function is not implemented")}getBaggageItem(){throw new Error("This function is not implemented")}setBaggageItem(){throw new Error("This function is not implemented")}context(){throw new Error("This function is not implemented")}}var O=base_span_BaseSpan;const S="TRACER:SPAN";var w=class span_Span extends O{constructor(e,{startTime:t=Date.now(),tags:o={},parentSpan:n}={}){super(e,{startTime:t,tags:o,parentSpan:n}),this._id=this._generateUUID()}getCloseTimeMs(){const e=super.getCloseTimeMs();return e||Object(c.b)().warn(S,"Cannot get close time for this span because it has not closed."),e}getDurationMs(){return this.getCloseTimeMs()||Object(c.b)().warn(S,"Cannot get duration for this span because it has not closed."),super.getDurationMs()}_generateUUID(){return Object(I.a)()}};class opentracing_tracer_OpentracingTracer extends BaseTracer{constructor(){super(),this._traceId=this._generateUUID()}_startSpan(e,t){const o=new w(this,t);return o.setOperationName(e),this._registerSpan(o),o}_registerSpan(e){const t=e.getId();this._spans[t]=e}_generateUUID(){return Object(I.a)()}}const y="[TRACE]";class trace_Trace extends opentracing_tracer_OpentracingTracer{constructor({traceName:e,tags:t={}}){super(),this._forceCloseSpan=this._forceCloseSpan.bind(this),this.report=this.report.bind(this),this.reportClosedSpans=this.reportClosedSpans.bind(this),this._rootSpanId=null,this._traceName=e,this._tags=t}getTraceName(){return this._traceName}getClosedSpans(){return Object.values(this.getSpans()).filter(e=>!e.isActive())}getTags(){return this._tags}getRootSpan(){return this.getSpans()[this._rootSpanId]}startSpan(e,t={}){if(!this._rootSpanId){const e=super.startSpan(this._traceName);this._rootSpanId=e.getId()}const o=m()({},t);return t.parentSpan||(o.parentSpan=this.getRootSpan()),super.startSpan(e,o)}addTags(e){if(!e)return;const t=this._getValidTags(e);Object(p.a)(t)||(this._tags=m()({},this._tags,t))}report(){const e=this.getRootSpan();e&&e.isActive()&&e.close(),this._maybeForceCloseTrace();const t=Object.values(this.getSpans());return this._report(t)}reportClosedSpans(){const e=this.getClosedSpans();return this._report(e)}_report(e){const t=this.getTraceId(),o=this._getValidTags(this._tags);return this._clearSpans(e),{spans:e,traceId:t,tags:o}}_maybeForceCloseTrace(){const e=Object.values(this.getSpans());Object(p.a)(e)||e.forEach(this._forceCloseSpan)}_forceCloseSpan(e){e.isActive()&&(Object(c.b)().warn("TRACER",`(${e.getOperationName()}) was forced closed and marked with the flush=true tag.`),e.setTag("flush",!0),e.close())}_getValidTags(e){const t=Object.keys(e),o={};return t.forEach(t=>{const n=e[t];if(g(n))o[t]=n;else{const e=typeof n;Object(c.b)().warn(y,`Value of type "${e}" unsupported for key "${t}", so tag will be excluded from the span. Supported types are ${Object.keys(f).join(", ")}`)}}),o}_clearSpans(e){Object(p.a)(e)||e.forEach(e=>{const t=e.getId();delete this._spans[t]})}_getSpanById(e){return this.getSpans()[e]}reset(){this._rootSpanId=null,this._tags={},this.clear()}traceFn({name:e,options:t,onResolve:o=_.a,onError:n=_.a},r){return this.trace({name:e,options:t,onResolve:o,onError:n},r)()}trace({name:e,options:t,onResolve:o=_.a,onError:n=_.a},r){return e?(...a)=>{const s=this.startSpan(e,t);Object(c.b)().debug(y,`${e} begin`,`${Date.now()}ms`);const i=o.bind(null,s),d=n.bind(null,s);try{const t=r.apply(this,a);return t&&t.then?t.tap(i).catch(d).finally(()=>{s&&s.isActive()&&s.close(),Object(c.b)().debug(y,`${e} took ${s.getDurationMs()}ms`)}):(i(t),s.close(),Object(c.b)().debug(y,`${e} took ${s.getDurationMs()}ms`)),t}catch(l){throw d(l),s.close(),Object(c.b)().debug(y,`${e} took ${s.getDurationMs()}ms`),l}}:r}}var j=o("jo6Y"),T=o.n(j),k=o("ZBlo"),v=o("u3oV"),P=o("oTSI"),E=o("rWF5");let D=20;class trace_reporter_TraceReporter{constructor({endpointUrl:e=(E.l||E.t||E.o?"https://dev.slackb.com/traces/v1/list_of_spans/json":"https://slackb.com/traces/v1/list_of_spans/json")}={}){this._endpointUrl=e}report({spans:e,traceId:t,tags:o}){if(!navigator||!navigator.sendBeacon)return;let n=e.map(e=>this.convertSpanToBeaconData(e,t));n=n.filter(e=>!!e);const r=this.processSharedTags(o),a=this.processTagsForBeacon(r);Object(k.a)(n,D).forEach(e=>{this.beaconSpans({spans:e,tags:a})})}beaconSpans({spans:e,tags:t}){const o={spans:e,tags:t};navigator.sendBeacon(this._endpointUrl,JSON.stringify(o))}processSharedTags(e){let t=e.versionTs,o=e.enterpriseId,n=e.teamId,r=e.userId,a=e.subAppName,s=e.sessionId,i=T()(e,["versionTs","enterpriseId","teamId","userId","subAppName","sessionId"]),c=m()({service_name:"desktop",[h.versionTs]:t,[h.enterpriseId]:o,[h.teamId]:n,[h.userId]:r,[h.subAppName]:a,[h.sessionId]:s},i);return c=Object(v.a)(c,e=>null!=e)}convertSpanToBeaconData(e,t){if(!(e instanceof w))return null;const o=btoa(t),n=e.getId(),r=btoa(n),a=e.getParentId()||"",s=btoa(a),i=e.getOperationName(),c=1e3*e.getStartTimeMs(),d=1e3*e.getDurationMs(),l=e.getTags();return{id:r,trace_id:o,name:i,start_timestamp_micros:c,duration_micros:d||1,tags:this.processTagsForBeacon(l),parent_id:s}}processTagsForBeacon(e){if(Object(p.a)(e))return[];return Object.keys(e).map(t=>{return function(e,t){const o=typeof t;if(!g(t))throw new Error(`Value of type "${o}" unsupported for key "${e}". Supported types are ${Object.keys(f).join(", ")}`);return{key:e,[f[o][1]]:t,v_type:f[o][0]}}(t,e[t])})}}const A=Object(P.a)(()=>new trace_reporter_TraceReporter);var W=A;Object(n.a)("getTraceReporter",A);const C="TRACER";class tracer_Tracer{constructor({reporter:e=W()}={}){if(!this._validateReporterInstance(e))throw new Error("Tracers must be provided with a valid reporter function");this.userId=null,this.teamId=null,this.teamSize=null,this.versionTs=null,this.subAppName=null,this.sessionId=b.a,this.reporter=e,this.traces={}}createTrace(e,t={}){const o=new trace_Trace({traceName:e,tags:t}),n=o.getTraceId();return this.traces[n]=o,this.traces[n]}reportTrace(e,{onlyClosedSpans:t=!1,clearTrace:o=!0}={}){e&&e instanceof trace_Trace?(this._reportTrace(e,{onlyClosedSpans:t}),o&&this.clearTrace(e)):Object(c.b)().warn(C,"No valid trace provided; Nothing to report.")}clearTrace(e){this._clearTrace(e)}setUser(e){return this.userId=e,this}setTeam(e){return this.teamId=e,this}setEnterprise(e){return this.enterpriseId=e,this}setTeamSize(e){return this.teamSize=e,this}setVersionTs(e){return this.versionTs=e,this}setSubAppName(e){return this.subAppName=e,this}getSharedTags(){return{sessionId:this.sessionId,versionTs:this.versionTs,enterpriseId:this.enterpriseId,teamId:this.teamId,userId:this.userId,subAppName:this.subAppName}}_clearTrace(e){if(!e)return;e.reset();const t=e.getTraceId();delete this.traces[t]}_reportTrace(e,{onlyClosedSpans:t=!1}={}){const o=e&&e.getTraceName();var n=(t?e.reportClosedSpans:e.report)();const r=n.spans,a=n.traceId,s=n.tags;if(!r||Object(p.a)(r))return void Object(c.b)().warn(C,"This trace contains no closed spans; Nothing to report.");const i=m()({},s,this.getSharedTags()),d=t?`Reporting partial trace (${o}) with id (${a})`:`Reporting trace (${o}) with id (${a})`;Object(c.b)().debug(C,d),this.reporter.report({spans:r,traceId:a,tags:i})}_clear(){Object.values(this.traces).forEach(e=>{e.reset()}),this.traces={}}_validateReporterInstance(e){return e&&e.report&&"function"==typeof e.report}}Object(n.a)("Tracer",tracer_Tracer),o.d(t,"b",function(){return L}),o.d(t,"a",function(){return x});let B=e=>{if(e){if(e.teamId&&e.userId&&e.versionTs)return e;if(e.state){const t=Object(r.b)(e.state),o=Object(r.a)(e.state),n=Object(a.d)(e.state),s=Object(a.c)(e.state);if(t&&n&&s)return{teamId:t,enterpriseId:o,userId:n,versionTs:s}}if(e.getState&&"function"==typeof e.getState){const t=e.getState(),o=Object(r.b)(t),n=Object(r.a)(t),s=Object(a.d)(t),i=Object(a.c)(t);if(o&&s&&i)return{teamId:o,enterpriseId:n,userId:s,versionTs:i}}}},F=!1,R={};function L(e){const t=B(e);if(!t)return(F||!Object(d.a)()&&!Object(l.a)())&&Object(c.b)().warn("TRACES","You tried to get a team-specific tracer but didn\u2019t provide enough context and are getting the generic tracer instead which is likely not what you want."),x();const o=t.teamId,n=t.enterpriseId,r=t.userId,a=t.versionTs;if(!R[o]){const e=new tracer_Tracer;e.setTeam(o).setEnterprise(n).setUser(r).setVersionTs(a).setSubAppName(Object(s.c)()||"legacy"),R[o]=e}return R[o]}function x(){if(!R.generic){const e=new tracer_Tracer;e.setSubAppName(Object(s.c)()||"legacy").setVersionTs(Object(i.a)()),R.generic=e}return R.generic}Object(n.a)("getTracer",L)},"/gpl":function(e,t,o){"use strict";o.d(t,"a",function(){return r});const n=/^@?A[A-Z0-9]{8,}$/;function r(e){return n.test(e)}},"0QyR":function(e,t,o){"use strict";var n=o("jo6Y"),r=o.n(n),a=o("QbLZ"),s=o.n(a),i=o("sk9p"),c=o.n(i),d=o("9oTK"),l=o("3Hq1"),u=o("CpTu"),m=o("owWc"),p=o("1PKr"),b=o("Omjo"),_=o("Lg4S"),f=o("HDs8"),h=o("0oUp"),g=o("VL9c"),I=o("1j8a");const O=15e3;let S=null,w=null,y=0;const j=10,T=1e3;function k(){return w||(w=function e(){return Object(h.a)().catch(()=>y>j?Promise.reject(new Error("boot_exceeded_maximum_network_retries")):new Promise(t=>{clearTimeout(S),S=setTimeout(()=>{y+=1,t(e())},T)}))}().finally(()=>{clearTimeout(S),S=null,w=null})),w}function v({maxTimePausedMs:e=O}={}){let t;const o={online:!0},n=()=>{o.online=!1,t=window.setTimeout(()=>{throw new Error("Boot queue paused for too long")},e)},r=()=>{o.online=!0,window.clearTimeout(t),t=void 0},a={apiQ:new f.a({isOnline:()=>o.online,reconnectClient:()=>(function({setOffline:e,setOnline:t}={}){return e(),k().then(t).catch(()=>{throw new I.a("Could not complete boot due to loss of network connectivity",{name:"BootNetworkConnectionError"})})})({setOffline:n,setOnline:r}),reconnectService:()=>(function({setOffline:e,setOnline:t}={}){return e(),Object(g.a)().then(t).catch(()=>{throw new I.a("Could not complete boot due to loss of API service",{name:"BootApiConnectionError"})})})({setOffline:n,setOnline:r})}),q:(...e)=>a.apiQ&&a.apiQ.q(...e),stop:()=>{a.apiQ.stop(),a.apiQ.clearStatsInterval(),delete a.apiQ,a.apiQ=void 0,window.clearTimeout(t),t=void 0}};return a}var P=o("Gogr"),E=o("juCJ");const D=1e3;const A=432e6;var W=o("IbTH"),C=o("/gpl"),B=o("fujP"),F=o("HLHh"),R=o("4ULK"),L=o("nOCT"),x=o("yHhI"),M=o("UioL");var $=(()=>{var e=Object(d.coroutine)(function*({teamId:e,userId:t,forceAPI:o=!1}={}){const n=Object(x.a)({teamId:e});if(o)return n.info("BOOT","Skipping persisted store if it exists because we're forcing fresh data fetch anyway"),!1;if(function(e){const t=Object(x.a)({teamId:e}),o=Object(L.c)(),n=Object(P.d)(e,"versionDataTs");return t.info("BOOT",`Minimum supported data version is ${o}; currently on ${n}`),!n||n<o}(e))return n.info("BOOT","Skipping checking persisted store because if it exists it's out of date"),Object(R.a)(e),!1;if(!Object(F.a)())return n.info("BOOT","indexedDB is unavailable, not checking for a persisted store"),!1;let r;try{r=yield Object(d.resolve)(Object(M.a)({teamId:e,userId:t}))}catch(s){return n.error("BOOT","Unable to get get stored state from IndexedDB",s),!1}return!(a=r)||Object(B.a)(a.bootData)?(n.info("BOOT","Unable to find stored state"),!1):r;var a});return function(t){return e.apply(this,arguments)}})(),U=o("btH0"),N=o("Zr7G"),G=o("/Bt+"),q=o("jr0b"),H=o("+Sjy"),V=o("L6kU");const Q=s()({},V.a,{feature_classic_nav:!0,feature_global_nav:!1,feature_modern_sounds:!0,feature_offline_mode:!0,feature_sidebar_context_menu:!0,feature_sonic_clipboard:!0,feature_sonic_edit_profile:!0,feature_sonic_placeholder_labels:!0,feature_sonic_find_more_wksps:!0,feature_sonic_snippets:!0,feature_incremental_unread_counts:!0,feature_sonic_inputs:!0,feature_sonic_emoji:!0,feature_modern_gdrive_create:!0,feature_app_actions_fe_refactor:!0,feature_file_comment_deleted_rtm_handler:!0,feature_modern_profile_flexpane:!0,feature_modernize_slack_actions:!0,feature_react_file_viewer:!0,feature_react_member_profile_card:!0,feature_select_model_option_fetcher_m11n:!0,feature_sonic_activity:!0,feature_sonic_cloud_files_picker:!0,feature_sonic_dnd_manager:!0,feature_sonic_dnd_rtm:!0,feature_sonic_member_directory:!0,feature_sonic_pins:!0,feature_sonic_presence_manager:!0,feature_sonic_user_groups:!0,feature_unified_member:!0,feature_sonic_channel_options:!0,feature_m11n_apps_browser:!0,feature_sonic_frequent_emoji_from_pref:!0,feature_modern_request_workspace_dialog:!0,feature_sonic_leave_workspace_dialog:!0,feature_m11n_channel_details:!0,feature_modernize_channel_create_modal:!0,feature_sonic_dm_browser:!0,feature_sonic_esc_creation:!0});o.d(t,"b",function(){return te}),o.d(t,"a",function(){return z});let z=(K=Object(d.coroutine)(function*({teamId:e,teamToken:t,userId:o,shouldSetFocus:n,routeInfo:r=null,forceAPI:a=!1,bootQueue:i=v(),bootedOffline:l,reason:m}={}){const p=yield Object(d.resolve)($({teamId:e,userId:o,forceAPI:a}));let f=!!p;if(f&&function(){const e=Object(P.c)("lastColdBootTs");return!!e&&Date.now()-e>A}()&&!l&&(yield Object(d.resolve)(E.b.fetch({url:"/api/api.test",timeout:D}).then(e=>!0===JSON.parse(e).ok).catch(e=>(Object(b.a)(e),!1))))&&(f=!1,Object(N.a)().count("sonic_boot_data_fetch_ignoring_persisted_cache")),f)return Object(b.b)("BOOT",`(${e}) Booting with persisted store`),{isWarmBooting:!0,bootData:p};i.apiQ.assignApiCallThreshold(Object(_.c)(n));const h=[re({bootQueue:i,token:t,teamId:e,reason:m,userId:o}),Object(W.f)({bootQueue:i,overrides:Q,shouldFetchCached:!0,teamId:e,token:t}),Object(W.e)({bootQueue:i,shouldFetchCached:!0,teamId:e,token:t,userId:o})],g=r&&r.params&&r.params.entityId;!g||Object(U.a)(g)||Object(H.f)(g)||Object(C.a)(g)?Object(U.a)(g)||Object(H.f)(g)||Object(C.a)(g)||(Object(b.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),h.push(ee({bootQueue:i,token:t,teamId:e}))):(Object(b.b)("BOOT",`Booting into channel: ${g}`),h.push(ee({bootQueue:i,token:t,teamId:e,id:g})));var I=yield Object(d.resolve)(Promise.all(h)),O=c()(I,4);const S=O[0],w=O[1],y=O[2],j=O[3],T=S.appHomesData,k=S.selfData,B=S.teamData,F=S.teamPrefsData,R=S.userPrefsData,L=S.userGroupMembershipData,x=S.channelsData,M=S.membersToFetch,G=S.paidFeatures,q=S.emojiBootData,V=S.slashCommandsBootData,z=S.acceptTosUrl,K=S.channelsPrefsData;let Z=!1,X=!1,Y=null,J=null;if(R&&!R.onboarding_complete)if(R.tractor_enabled){const o=yield Object(d.resolve)(Object(W.m)({bootQueue:i,token:t,teamId:e}));Z=(Y=Object(u.a)(o,e=>"account_setup"===e.type&&"team_creation"===e.subtype))&&"completed"!==Y.state}else"none"!==R.welcome_place_state?"enabled"===R.welcome_place_state&&(X=!0):R.seen_welcome_2||(X=!0);R&&"enabled"===R.welcome_place_state&&(J=yield Object(d.resolve)(Object(W.n)({bootQueue:i,token:t,teamId:e})));const te=document.documentElement,oe={app:"client",api_token:t,user_id:k&&k.id,version_ts:te&&te.dataset?te.dataset.versionTs:"unknown",version_uid:te&&te.dataset?te.dataset.versionHash:"unknown",shouldStartCreatorOnboarding:Z,shouldStartJoinerOnboarding:X,teamCreationWorkflow:Y,welcomePlaceOnboardingData:J,acceptTosUrl:z};if("should_reload"in S&&(oe.should_reload=S.should_reload,oe.client_min_version=S.client_min_version,S.should_reload))return{bootData:{miscBootData:oe}};let ne,ae;if(k&&k.enterprise_user){const o=Object(P.d)(e,"enterprise_api_token");var se=yield Object(d.resolve)(Promise.all([Object(W.c)({bootQueue:i,token:t,teamId:e}),Object(W.d)({bootQueue:i,token:o,teamId:e})])),ie=c()(se,2);const n=ie[0],r=ie[1];oe.enterprise_id=k.enterprise_user.enterprise_id,oe.page_needs_enterprise=!0,oe.enterprise_api_token=o,ne=n,ae=r}if(j&&j.channelData){const e=x.findIndex(e=>e&&e.id===j.channelData.id);if(-1!==e){const t=s()({},x[e],j.channelData);x.splice(e,1,t)}}return i.stop(),{isWarmBooting:!1,bootData:{appHomesData:T,channelsData:x,membersToFetch:M,teamData:B,viewData:j||null,selfData:k,featureFlagData:w,experimentsData:y,miscBootData:oe,userPrefsData:R,teamPrefsData:F,userGroupMembershipData:L,enterpriseData:ne,enterprisePrefsData:ae,paidFeatures:G,emojiBootData:q,slashCommandsBootData:V,channelsPrefsData:K}}}),function(e){return K.apply(this,arguments)});var K;const Z=e=>!(!e||!e.is_im),X=e=>!(!e||!e.is_mpim),Y=e=>Z(e)&&e.user,J=e=>X(e)&&e.members;function ee({bootQueue:e,token:t,teamId:o,id:n=null}){const r={token:t,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,no_members:!0};n&&(r.channel=n);const a=new p.b({method:"conversations.view",args:r,teamId:o});return e.q(a).then(e=>{const t=e.history.messages,o=e.channel||e.group||e.im,n=o&&o.id,r={channelId:n,count:e.history.channel_actions_count||0};return{channelData:o,messagesData:{msgs:t,channelId:n,latest:t.length>0?t[0].ts:null,oldest:t.length>0?t[t.length-1].ts:null,hasMore:{hasMoreEnd:!1,hasMoreStart:e.history.has_more},isLimited:e.history.is_limited},membersData:e.users,botsData:e.bots,channelActionsData:r}}).catch(r=>{if(r.data&&"channel_not_found"===r.data.error){if(n)return ee({bootQueue:e,token:t,teamId:o});const r=new p.b({method:"im.open",args:{user:"USLACKBOT",token:t},teamId:o});return e.q(r).then(n=>ee({bootQueue:e,token:t,teamId:o,id:n.channel.id}))}throw r})}function te(e){const t=e.team,o=e.subteams,n=e.self,a=e.prefs,i=e.app_homes,c=e.paid_features,d=e.emoji_cache_ts,u=e.commands_cache_ts,p=e.can_manage_shared_channels,b=e.accept_tos_url,_=e.channels_prefs,f=e.should_reload,h=e.client_min_version,g=r()(e,["team","subteams","self","prefs","app_homes","paid_features","emoji_cache_ts","commands_cache_ts","can_manage_shared_channels","accept_tos_url","channels_prefs","should_reload","client_min_version"]);let I={};if(!Object(l.a)(f)&&(I.should_reload=f,I.client_min_version=h,f))return I;const O=s()({},t.prefs,{can_user_manage_shared_channels:p}),S=[...o.self],w=function(e){const t=[...e.channels||[],...e.ims||[],...e.mpims||[]],o=e.channels_latest,n=[];if(t&&o){var r=e.last_read;const u=void 0===r?{}:r;var a=e.channels_priority;const m=void 0===a?{}:a;var i=e.is_open;const p=void 0===i?[]:i;var c=e.starred;const b=void 0===c?[]:c;var d=e.thread_only_channels;const _=void 0===d?[]:d;var l=e.read_only_channels;const f=void 0===l?[]:l,h=p.reduce((e,t)=>(e[t]=!0,e),{}),g=b.reduce((e,t)=>(e[t]=!0,e),{}),I=_.reduce((e,t)=>(e[t]=!0,e),{}),O=f.reduce((e,t)=>(e[t]=!0,e),{}),S=t.length;for(let e=0;e<S;e++){const r=t[e],a=r.id,i="0000000000.000000",c=!!o[a],d=Z(r)||X(r)||c,l=u[a],p=m[a],b=!!g[a],_=!!h[a],f=!!I[a],S=!!O[a],w=Z(r)||X(r)?s()({},r,{is_member:d,latest:i,last_read:l,priority:p,is_starred:b,is_open:_}):s()({},r,{is_member:d,latest:i,last_read:l,priority:p,is_starred:b,is_thread_only:f,is_read_only:S});n.push(w)}}return n}(s()({},g,{teamId:t.id})),y=(e.ims||[]).map(e=>Y(e)),j=(T=e.mpims)?Object(m.a)(T,(e,t)=>{if(!t)return e;const o=J(t)||[];return e.push(...o),e},[]):[];var T;const k=y.concat(j).filter((e,t,o)=>o.indexOf(e)===t),v={cacheTs:d},P={cacheTs:u};return I=s()({},I,{selfData:n,teamData:t,teamPrefsData:O,userPrefsData:a,channelsData:w,appHomesData:i,membersToFetch:k,userGroupMembershipData:S,paidFeatures:c,emojiBootData:v,slashCommandsBootData:P,acceptTosUrl:b,channelsPrefsData:_})}const oe="cse-api",ne="cse-boot-api";function re({bootQueue:e,token:t,teamId:o,reason:n,userId:r}){return function(e,t={}){const o=Object(G.a)(),n=o.createTrace(oe,t);if(!n||!n.traceFn)return Object(x.b)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.boot data fetch."),e();return n.traceFn({name:ne,onError:(e,t)=>{const r={state:q.a.ERROR};t.status&&(r.status=t.status);t.message&&(r.message=t.message);t.data&&t.data.error&&(r.reason=t.data.error);e.addTags(r),e.close(),o.reportTrace(n)},onResolve:()=>{o.clearTrace(n)}},e)}(W.b.bind(this,{bootQueue:e,token:t,teamId:o,reason:n}),{teamId:o,userId:r,reason:n}).then(te)}},"0oUp":function(e,t,o){"use strict";var n=o("oTSI"),r=o("ifKl"),a=o("ZP0B");var s=o("juCJ"),i=o("lSe/"),c=o("Z7Ay"),d=o("rWF5"),l=o("afo6");const u="NETWORK-CONNECTIVITY",m=Object(n.a)(()=>new l.a({testConnectivity:j,logLabel:u})),p=()=>m().waitForConnectivity();t.a=p;let b=0,_=!1,f=!1;const h=1e3,g=h,I=["https://a.slack-edge.com/f70ec/img/test_cdn_pixel.gif","https://b.slack-edge.com/f70ec/img/test_cdn_pixel.gif"],O=99,S=10;let w=0,y=0;function j(){Object(i.d)(u,"Testing network connectivity...");const e=!_&&!f&&b&&b%S==0&&(Object(d.k)()||Object(d.v)());if(!1===navigator.onLine){Object(i.d)(u,"Browser says we\u2019re offline.");const t=b%100===O;if(!(e||t)){b+=1;const e=new Error("Browser says we\u2019re offline");return e.retryAfter=g,e.totalRetryAttempts=b,Promise.reject(e)}}const t=w-(Date.now()-y);if(t>0){const e=`Waiting on CDN full backoff. Waiting an additional ${t}ms`;Object(i.d)(u,e);const o=new Error(e);return o.retryAfter=t,o.totalRetryAttempts=b,Promise.reject(o)}return y=Date.now(),T().tap(()=>{!1===navigator.onLine&&e&&(f=!0,T().tap(()=>{if(!1===navigator.onLine){Object(i.f)(u,"navigator.onLine appears to be untrustworthy; enabling workaround."),_=!0;try{Object.defineProperty(navigator,"onLine",{get:()=>!0})}catch(e){}}}).catch(r.a)),Object(i.d)(u,"Successfully fetched resources from the CDN. We\u2019re online!"),b=0}).catch(e=>{Object(i.d)(u,`Failed to fetch resources from the CDN with ${e}.`);const t=new Error("Failed to fetch resources from the CDN");return w=Object(a.a)(e.map(e=>{return e&&e.retryAfter||h})),b+=1,t.totalRetryAttempts=b,t.retryAfter=g,Promise.reject(t)})}function T(){return Promise.any(I.map(e=>`${e}?q=${(Date.now()*Math.random()).toString(36)}`).map(e=>s.b.fetch({url:e})))}Object(c.a)("waitForNetworkConnection",p)},"1tsX":function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o("quKg"),r=o("Smdl");function a(e){return("treatment"===Object(n.c)(e,"platform_app_launcher_free_team")||"treatment"===Object(n.c)(e,"platform_app_launcher_std_plus_team"))&&Object(r.a)()}},"1zgd":function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("rWF5"),r=o("vRZS"),a=o("Yd+W");const s=e=>(e.subtype!==a.d.EnableNotifications||!Object(r.a)())&&!(e.subtype===a.d.DownloadDesktopApp&&!Object(n.j)())},"2cus":function(e,t,o){"use strict";o.d(t,"b",function(){return i}),o.d(t,"a",function(){return c}),o.d(t,"f",function(){return l}),o.d(t,"i",function(){return u}),o.d(t,"h",function(){return m}),o.d(t,"g",function(){return p}),o.d(t,"q",function(){return _}),o.d(t,"o",function(){return f}),o.d(t,"n",function(){return h}),o.d(t,"p",function(){return g}),o.d(t,"j",function(){return I}),o.d(t,"u",function(){return O}),o.d(t,"t",function(){return w}),o.d(t,"s",function(){return y}),o.d(t,"r",function(){return j}),o.d(t,"e",function(){return T}),o.d(t,"d",function(){return k}),o.d(t,"c",function(){return v}),o.d(t,"l",function(){return D}),o.d(t,"m",function(){return A}),o.d(t,"k",function(){return W}),o.d(t,"w",function(){return C}),o.d(t,"v",function(){return B});var n=o("wd/R"),r=o.n(n),a=o("U/ze"),s=o("g5qt");const i={PAID:"paid",FREE_NO_TRIAL:"free_no_trial",FREE_EXPIRED_TRIAL:"free_expired_trial",IN_TRIAL:"in_trial"},c={SIDEBAR_BENEFITS_TAB:"sidebar_benefits_tab",SIDEBAR_UPGRADE_BUTTON:"sidebar_upgrade_button"},d=Object(a.b)(e=>e&&e.promo&&e.promo.launchModal);d.meta={name:"selectPromoLaunchModalData",key:"promoStorePromoSelectorsSelectPromoLaunchModalData"};const l=Object(a.b)(e=>{const t=d(e);return!!t&&!!t.isEnabled});l.meta={name:"selectLaunchModalIsEnabled",key:"promoStorePromoSelectorsSelectLaunchModalIsEnabled"};const u=Object(a.b)(e=>{const t=d(e);return t&&t.name?t.name:null});u.meta={name:"selectLaunchModalName",key:"promoStorePromoSelectorsSelectLaunchModalName"};const m=Object(a.b)(e=>"trial_last_day_modal"===u(e));m.meta={name:"selectLaunchModalIsTrialLastDayModal",key:"promoStorePromoSelectorsSelectLaunchModalIsTrialLastDayModal"};const p=Object(a.b)(e=>"trial_downgrade_survey"===u(e));p.meta={name:"selectLaunchModalIsTrialDowngradeModal",key:"promoStorePromoSelectorsSelectLaunchModalIsTrialDowngradeModal"};const b=Object(a.b)(e=>e&&e.promo&&e.promo.sidebarFooter);b.meta={name:"selectPromoSidebarFooterData",key:"promoStorePromoSelectorsSelectPromoSidebarFooterData"};const _=Object(a.b)(e=>{const t=b(e);return t&&t.name?t.name:null});_.meta={name:"selectSidebarFooterName",key:"promoStorePromoSelectorsSelectSidebarFooterName"};const f=Object(a.b)(e=>{const t=b(e);return!!t&&!!t.isEnabled});f.meta={name:"selectSidebarFooterIsEnabled",key:"promoStorePromoSelectorsSelectSidebarFooterIsEnabled"};const h=Object(a.b)(e=>f(e)&&_(e)===c.SIDEBAR_BENEFITS_TAB);h.meta={name:"selectSidebarFooterIsBenefitsEnabled",key:"promoStorePromoSelectorsSelectSidebarFooterIsBenefitsEnabled"};const g=Object(a.b)(e=>f(e)&&_(e)===c.SIDEBAR_UPGRADE_BUTTON&&!Object(s.T)());g.meta={name:"selectSidebarFooterIsUpgradeCTAEnabled",key:"promoStorePromoSelectorsSelectSidebarFooterIsUpgradeCTAEnabled"};const I=Object(a.b)(e=>{const t=b(e);return t?t.renewalLevel:null});I.meta={name:"selectPlanRenewalLevel",key:"promoStorePromoSelectorsSelectPlanRenewalLevel"};const O=Object(a.b)(e=>e&&e.promo&&e.promo.teamPlanInfo&&e.promo.teamPlanInfo.name);O.meta={name:"selectTeamPlanInfoName",key:"promoStorePromoSelectorsSelectTeamPlanInfoName"};const S=Object(a.b)(e=>e&&e.promo&&e.promo.teamPlanInfo&&e.promo.teamPlanInfo.data||{});S.meta={name:"selectTeamPlanInfoData",key:"promoStorePromoSelectorsSelectTeamPlanInfoData"};const w=Object(a.b)(e=>{const t=S(e);return t?t.trial_plan_level:null});w.meta={name:"selectTeamMenuTrialPlanLevel",key:"promoStorePromoSelectorsSelectTeamMenuTrialPlanLevel"};const y=Object(a.b)(e=>{const t=S(e);return t&&"0000-00-00"!==t.expirationDate?r()(t.trial_expiration_date).diff(r()().startOf("day"),"days"):null});y.meta={name:"selectTeamMenuTrialNumDaysRemaining",key:"promoStorePromoSelectorsSelectTeamMenuTrialNumDaysRemaining"};const j=Object(a.b)(e=>{const t=S(e);return t?t.checkout_product_id:null});j.meta={name:"selectTeamMenuTrialCheckoutProductId",key:"promoStorePromoSelectorsSelectTeamMenuTrialCheckoutProductId"};const T=Object(a.b)(e=>{const t=S(e);return t?t.promo_type:null});T.meta={name:"selectDiscountPromoType",key:"promoStorePromoSelectorsSelectDiscountPromoType"};const k=Object(a.b)(e=>{const t=S(e);return t?t.subtype:null});k.meta={name:"selectDiscountPromoSubType",key:"promoStorePromoSelectorsSelectDiscountPromoSubType"};const v=Object(a.b)(e=>{const t=S(e);return t?t.discount_pct:null});v.meta={name:"selectDiscountPromoPercent",key:"promoStorePromoSelectorsSelectDiscountPromoPercent"};const P=Object(a.b)(e=>e&&e.promo&&e.promo.shared);P.meta={name:"selectPromoSharedData",key:"promoStorePromoSelectorsSelectPromoSharedData"};const E=Object(a.b)(e=>{const t=P(e);return t?t.trial:null});E.meta={name:"selectSharedTrialData",key:"promoStorePromoSelectorsSelectSharedTrialData"};const D=Object(a.b)(e=>{const t=E(e);return t&&"0000-00-00"!==t.expirationDate?t.expirationDate:null});D.meta={name:"selectSharedTrialExpirationDate",key:"promoStorePromoSelectorsSelectSharedTrialExpirationDate"};const A=Object(a.b)(e=>{const t=E(e);return t?t.planLevel:null});A.meta={name:"selectSharedTrialPlanLevel",key:"promoStorePromoSelectorsSelectSharedTrialPlanLevel"};const W=Object(a.b)(e=>{const t=P(e);return t?t.checkoutProductId:null});W.meta={name:"selectSharedCheckoutProductId",key:"promoStorePromoSelectorsSelectSharedCheckoutProductId"};const C=Object(a.b)(e=>{const t=D(e);return t?r()(t).diff(r()().startOf("day"),"days"):null});C.meta={name:"selectTrialDaysRemaining",key:"promoStorePromoSelectorsSelectTrialDaysRemaining"};const B=Object(a.b)(e=>{return I(e)?i.PAID:D(e)?C(e)<=0?i.FREE_EXPIRED_TRIAL:i.IN_TRIAL:i.FREE_NO_TRIAL});B.meta={name:"selectTeamTrialState",key:"promoStorePromoSelectorsSelectTeamTrialState"}},"4v0o":function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n={allUnreads:"Vall_unreads",allThreads:"Vall_threads",search:"Vsearch"}},D6w7:function(e,t,o){"use strict";o.d(t,"c",function(){return _}),o.d(t,"a",function(){return f}),o.d(t,"b",function(){return h}),o.d(t,"d",function(){return I}),o.d(t,"e",function(){return O});var n=o("QbLZ"),r=o.n(n),a=o("Z0Cl"),s=o("7EGn"),i=o("zmn3"),c=o("pHS2"),d=o("OZf9"),l=o("wd/R"),u=o.n(l),m=o("U/ze"),p=o("HBMi"),b=o("quKg");const _=Object(m.b)(e=>{const t=e&&e.inbox&&e.inbox.mentions&&e.inbox.stars&&e.inbox.reminders&&r()({},e.inbox.mentions,e.inbox.stars,e.inbox.reminders),o=Object(s.a)(e,"inbox.archives",{mentions:[],stars:[],reminders:[]}),n=Object(s.a)(e,"inbox.reads",{mentions:[],stars:[],reminders:[]});Object(d.a)(t,e=>{t[e.id]&&(t[e.id].archived=!1,t[e.id].read=!1,o.mentions&&o.mentions.includes(e.id)&&(t[e.id].archived=!0),o.stars&&o.stars.includes(e.id)&&(t[e.id].archived=!0),n.mentions&&n.mentions.includes(e.id)&&(t[e.id].read=!0),n.stars&&n.stars.includes(e.id)&&(t[e.id].read=!0)),t[e.reminderId]&&(t[e.reminderId].archived=!1,t[e.reminderId].read=!1,o.reminders&&o.reminders.includes(e.reminderId)&&(t[e.reminderId].archived=!0),n.reminders&&n.reminders.includes(e.reminderId)&&(t[e.reminderId].read=!0))});const a=Object.keys(t).sort().reverse(),l={};Object(d.a)(a,e=>{l[e]=t[e]});const m=Object(c.a)(l,e=>u()(Object(p.a)(e.id)).startOf("day")),b={};return Object.keys(m).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).forEach(e=>{b[e]=m[e]}),Object(i.a)(b,e=>e)});_.meta={name:"getInboxItems",key:"inboxStoreInboxSelectorsGetInboxItems"};const f=Object(m.b)(e=>{const t=e&&e.inbox&&e.inbox.mentions;return Object(a.a)(t,e=>null===e.subtype)});f.meta={name:"getInboxChannelMentions",key:"inboxStoreInboxSelectorsGetInboxChannelMentions"};const h=Object(m.b)(e=>e&&e.inbox&&e.inbox.cursorMarks||{});h.meta={name:"getInboxCursorMarks",key:"inboxStoreInboxSelectorsGetInboxCursorMarks"};const g={mentions:[],stars:[],reminders:[]},I=Object(m.b)(e=>{const t=e&&e.inbox&&e.inbox.reads||g,o=e&&e.inbox&&e.inbox.archives||g,n=[...new Set((t.mentions||[]).concat(o.mentions||[]))],r=[...new Set((t.stars||[]).concat(o.stars||[]))],a=[...new Set((t.reminders||[]).concat(o.reminders||[]))];return Object.keys(e.inbox.mentions).some(e=>!n.includes(e))||Object.keys(e.inbox.stars).some(e=>!r.includes(e))||Object.keys(e.inbox.reminders).some(e=>!a.includes(e))});I.meta={name:"isHomePageLinkBold",key:"inboxStoreInboxSelectorsIsHomePageLinkBold"};const O=Object(m.b)(e=>Object(b.c)(e,"inbox"));O.meta={name:"isInboxEnabled",key:"inboxStoreInboxSelectorsIsInboxEnabled"}},Er5K:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"c",function(){return a});const n=["about","space"],r=["app","about","settings"];function a(e){return-1!==n.indexOf(e)||-1!==r.indexOf(e)||0===e.indexOf("embed")}},HBMi:function(e,t,o){"use strict";var n=o("RjUC"),r=o("XxnT");t.a=function(e,{parseFormat:t="unix",returnMoment:o=!1}={}){let a,s;const i="unix"!==t;if(r.a.isMoment(e))return o?e:Object(r.a)(e).toDate();if(Object(n.a)(e))return o?Object(r.a)(e.getTime()):e;if(i&&"string"==typeof e&&(s=e),i||"string"!=typeof e&&"number"!=typeof e||(s="string"==typeof e?parseFloat(e):e),i&&(a=Object(r.a)(s,t)),i||"number"!=typeof s||(a=s.toString().split(".")[0].length>11?Object(r.a)(s):r.a.unix(s)),a&&r.a.isMoment(a)&&o)return a;if(a&&r.a.isMoment(a)&&!o)return Object(r.a)(a).toDate();throw new Error("The timestamp value couldn\u2019t be parsed by the toDateObject() function!")}},HuaI:function(e,t,o){"use strict";o.r(t),o.d(t,"initialize",function(){return s}),o.d(t,"addWorkspace",function(){return i}),o.d(t,"updateWorkspaceMeta",function(){return c}),o.d(t,"internalSetFocusedWorkspace",function(){return d}),o.d(t,"internalRemoveWorkspace",function(){return l}),o.d(t,"internalWorkspacesRemoved",function(){return u}),o.d(t,"internalRemoveWorkspaceType",function(){return m}),o.d(t,"internalSetFocusedWorkspaceType",function(){return p}),o.d(t,"internalWorkspacesRemovedType",function(){return b}),o.d(t,"setWorkspaceOrder",function(){return _}),o.d(t,"setWorkspaceBooted",function(){return f}),o.d(t,"setDidBootAllWorkspaces",function(){return h}),o.d(t,"setWorkspaceFailedToBoot",function(){return g}),o.d(t,"setWorkspaceIsMigrating",function(){return I}),o.d(t,"setWorkspaceMigrationIsComplete",function(){return O}),o.d(t,"setWorkspaceIsAccessLimited",function(){return S}),o.d(t,"setWillNavigateToUnbootedWorkspaceId",function(){return w});var n=o("aK/h"),r=o("EzZj"),a=o("Z7Ay");const s=Object(r.b)("Initializes the store and sets the initial focused workspace ID");s.meta={name:"initialize",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInitialize",description:"Initializes the store and sets the initial focused workspace ID"},s.propTypes=n.default.object.isRequired;const i=Object(r.b)("Adds a new workspace to the store (but does not boot it)");i.meta={name:"addWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsAddWorkspace",description:"Adds a new workspace to the store (but does not boot it)"},i.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};const c=Object(r.b)("Updates the metadata associated with a given workspace");c.meta={name:"updateWorkspaceMeta",key:"appSonicReduxWorkspacesStoreWorkspacesActionsUpdateWorkspaceMeta",description:"Updates the metadata associated with a given workspace"},c.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};const d=Object(r.b)("Actually focus a workspace");d.meta={name:"internalSetFocusedWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalSetFocusedWorkspace",description:"Actually focus a workspace"},d.propTypes=n.default.string.isRequired;const l=Object(r.b)("Removes a workspace from the store");l.meta={name:"internalRemoveWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalRemoveWorkspace",description:"Removes a workspace from the store"},l.propTypes=n.default.string.isRequired;const u=Object(r.b)("Signals that a workspace has been removed");u.meta={name:"internalWorkspacesRemoved",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalWorkspacesRemoved",description:"Signals that a workspace has been removed"},u.propTypes=n.default.arrayOf(n.default.string).isRequired;const m=l.getType(),p=d.getType(),b=u.getType(),_=Object(r.b)("Sets the order of workspaces for display");_.meta={name:"setWorkspaceOrder",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceOrder",description:"Sets the order of workspaces for display"},_.propTypes=n.default.arrayOf(n.default.string).isRequired;const f=Object(r.b)("Sets the workspace booted state");f.meta={name:"setWorkspaceBooted",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceBooted",description:"Sets the workspace booted state"},f.propTypes=n.default.string.isRequired;const h=Object(r.b)("Indicates that we have completed (or attempted) boot for all known workspaces");h.meta={name:"setDidBootAllWorkspaces",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetDidBootAllWorkspaces",description:"Indicates that we have completed (or attempted) boot for all known workspaces"},h.propTypes=null;const g=Object(r.b)("Sets the workspace failed to boot state");g.meta={name:"setWorkspaceFailedToBoot",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceFailedToBoot",description:"Sets the workspace failed to boot state"},g.propTypes=n.default.string.isRequired;const I=Object(r.b)("Indicates that the given workspace is in the middle of an org migration");I.meta={name:"setWorkspaceIsMigrating",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsMigrating",description:"Indicates that the given workspace is in the middle of an org migration"},I.propTypes=n.default.string.isRequired;const O=Object(r.b)("Indicates that the given workspace has completed migrating to an org");O.meta={name:"setWorkspaceMigrationIsComplete",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceMigrationIsComplete",description:"Indicates that the given workspace has completed migrating to an org"},O.propTypes=n.default.string.isRequired;const S=Object(r.b)("Indicates that the given workspace has its access limited on this network");S.meta={name:"setWorkspaceIsAccessLimited",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsAccessLimited",description:"Indicates that the given workspace has its access limited on this network"},S.propTypes=n.default.string.isRequired;const w=Object(r.b)("Sets the workspace clicked on from sidebar while workspace is still booting.");w.meta={name:"setWillNavigateToUnbootedWorkspaceId",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWillNavigateToUnbootedWorkspaceId",description:"Sets the workspace clicked on from sidebar while workspace is still booting."},w.propTypes=n.default.string,Object(a.a)("workspacesStoreActions",{setWorkspaceOrder:_,setWorkspaceBooted:f})},L6kU:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n={}},Lg4S:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"c",function(){return a});const n=10,r=1;function a(e){return e?n:r}},POHe:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n=new Map},UioL:function(e,t,o){"use strict";var n=o("fujP"),r=o("kymL"),a=o("JtEI"),s=o("Z0v/"),i=o("eK5+"),c=o("Zr7G"),d=o("yHhI");const l=Object(i.a)(10),u=`${s.h}_get_stored_state_from_idb_mark_${s.i}`,m=`${s.h}_get_stored_state_from_idb_success_${s.i}`,p=`${s.h}_get_stored_state_from_idb_failure_${s.i}`;t.a=function({teamId:e,userId:t}={}){const o=Object(d.a)({teamId:e}),i=Object(c.a)(),b=`persist:${Object(s.H)({appName:Object(a.c)(),teamId:e,userId:t})}`;return l&&i.mark(u),o.info(s.F,"Getting state from IndexedDB"),r.a.get(b).then(e=>!e||Object(n.a)(e)?(l&&i.clearMarks(u),o.info(s.F,"No state found in IndexedDB"),!1):(l&&(i.measureAndClear(u),i.count(m)),o.info(s.F,"Successfully got state from IndexedDB"),e)).catch(e=>(l&&(i.clearMarks(u),i.count(p)),o.error(s.F,"Error calling persistDB.get in getStoredStateFromIdb",e),!1))}},V6fv:function(e,t,o){"use strict";o.d(t,"a",function(){return r}),o.d(t,"b",function(){return a});const n=/^p?(\d{10})\.?(\d{6})$/;function r(e){return e&&n.test(e)?e.replace(n,"$1.$2"):null}function a(e=Date.now()){if(!e)return null;return r(String((+e/1e3).toFixed(6)))}},VL9c:function(e,t,o){"use strict";var n=o("oTSI"),r=o("lSe/"),a=o("Z7Ay"),s=o("k1i/"),i=o("eK5+"),c=o("Zr7G"),d=o("MFhL"),l=o("Smdl"),u=o("afo6");const m="API-CONNECTIVITY",p=Object(i.a)(100),b=Object(n.a)(()=>new u.a({testConnectivity:O,logLabel:m,metricsLabel:"api",shouldCollectConnectivityMetrics:p})),_=()=>b().waitForConnectivity();t.a=_;let f=0;const h=1e3,g=()=>{const e={_x_reason:"api_connectivity_test"};Object(l.a)()&&(e._x_sonic=!0);const t=Object(d.a)(e);return new s.a({url:"https://www.slack.com/api/api.test",maxRetryAfter:6e4,payload:t}).send()};let I=g;function O(){return Object(r.d)(m,"Testing API connectivity..."),I().tap(()=>{p&&f&&Object(c.a)().count("cm_api_connected_with_retries",f),Object(r.d)(m,"Successfully fetched from api.test. Onward!"),f=0}).catch(e=>{Object(r.d)(m,`Failed to fetch from api.test ${e}.`);const t=new Error("Failed to fetch from api.test");return t.retryAfter=e.retryAfter||h,f+=1,t.totalRetryAttempts=f,Promise.reject(t)})}Object(a.a)("waitForApiConnection",_),Object(a.a)("mockServiceDisconnection",(e=42)=>{let t=0;I=(()=>(t+=1)===e?(t=0,I=g,Promise.resolve()):Promise.reject(new Error("Shhhh... we\u2019re pretending to have a bad time."))),window.slackDebug.activeTeam.api.q.debugServiceDisconnect()})},VMwU:function(e,t,o){"use strict";o.d(t,"a",function(){return s}),o.d(t,"f",function(){return i}),o.d(t,"l",function(){return c}),o.d(t,"h",function(){return d}),o.d(t,"g",function(){return l}),o.d(t,"e",function(){return u}),o.d(t,"c",function(){return m}),o.d(t,"i",function(){return p}),o.d(t,"j",function(){return b}),o.d(t,"d",function(){return _}),o.d(t,"m",function(){return f}),o.d(t,"k",function(){return I}),o.d(t,"b",function(){return O});var n=o("sk9p"),r=o.n(n),a=o("rWF5");const s={column_bg:"#3F0E40",menu_bg:"#350d36",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#350D36",text_color:"#FFFFFF",active_presence:"#2BAC76",badge:"#CD2553"},i=e=>{if(!e)return null;const t="#"===e[0]?e.substring(1):e,o=parseInt(t,16),n=[o>>16&255,o>>8&255,o>>0&255];return t.length>6?[o>>24&255,...n]:n},c=e=>{return`#${e.map(e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t}).join("").toUpperCase()}`},d=e=>{var t=r()(e,4);const o=t[0],n=t[1],a=t[2],s=t[3];if(0===n){return("number"==typeof s?[a,a,a,s]:[a,a,a]).map(e=>Math.round(255*e))}const i=Math.floor(o/60),c=o/60-i,d=a*(1-n),l=a*(1-n*c),u=a*(1-n*(1-c));let m;switch(i){case 0:m=[a,u,d];break;case 1:m=[l,a,d];break;case 2:m=[d,a,u];break;case 3:m=[d,l,a];break;case 4:m=[u,d,a];break;case 5:m=[a,d,l];break;default:throw new Error("hsvToRGB: impossible default reached")}return(m="number"==typeof s?[...m,s]:m).map(e=>Math.round(255*e))},l=e=>{const t=d(e);return c(t)},u=e=>{return(e=>{var t=e.map(e=>e/255),o=r()(t,4);const n=o[0],a=o[1],s=o[2],i=o[3],c=Math.max(n,a,s),d=c-Math.min(n,a,s),l=c,u=0===l?0:d/l;let m;if(0===d)m=0;else switch(c){case n:m=(a-s)/d%6;break;case a:m=(s-n)/d+2;break;case s:m=(n-a)/d+4;break;default:throw new Error("rgbToHSV: impossible default case reached")}(m*=60)<0&&(m+=360);const p=[m,u,l];return"number"==typeof i?[...p,i]:p})(i(e))},m=(e,t,{outputHex:o=!1}={})=>{const n=i(e).map(e=>Math.min(Math.max(e-t,0),255));return o?c(n):`rgb(${n.join(",")})`},p=(e,t,{outputHex:o=!1}={})=>{const n=i(e).map(e=>Math.max(Math.min(e+t,255),0));return o?c(n):`rgb(${n.join(",")})`},b=(e,t,o=.5)=>{const n=i(e),r=i(t);return`rgb(${n.map((e,t)=>Math.round(e*o+r[t]*(1-o))).join(",")})`},_=(e,{featureClassicNav:t}={})=>{let o;return o=t?Object(a.E)()?.65:.75:Object(a.E)()?.6:.7,b(e.text_color,e.column_bg,o)},f=(e,t)=>{if(!e||null==t)return null;return`rgba(${i(e).slice(0,3).join(",")},${t})`},h=/[A-F0-9]{6}/,g=/[A-F0-9]{8}/,I=(e,t=!1)=>{if(!e)return null;let o=e.trim().toUpperCase();return"#"===o[0]&&(o=o.slice(1)),(3===o.length||4===o.length&&t)&&(o=o.split("").map(e=>`${e}${e}`).join("")),t&&6===o.length&&(o=`${o}FF`),(t?g:h).exec(o)&&o},O=(e,t)=>`0 0 0 1px ${e}, 0 0 0 5px ${t}`},"Yd+W":function(e,t,o){"use strict";var n,r,a,s;o.d(t,"c",function(){return n}),o.d(t,"d",function(){return r}),o.d(t,"b",function(){return a}),o.d(t,"a",function(){return s}),function(e){e.Pending="pending",e.InProgress="in_progress",e.Completed="completed"}(n||(n={})),function(e){e.SeeWelcomePlace="see_welcome_place",e.SendMessage="send_message",e.JoinChannel="join_channel",e.EnableNotifications="enable_notifications",e.DownloadDesktopApp="download_desktop_app",e.AddAppFileManagement="add_app_file_management"}(r||(r={})),function(e){e.Unknown="unknown",e.Direct="direct",e.Sidebar="sidebar",e.History="history"}(a||(a={})),function(e){e.Gdrive="gdrive",e.OneDrive="onedrive",e.Unknown="unknown"}(s||(s={}))},YjHT:function(e,t,o){"use strict";o.d(t,"a",function(){return l}),o.d(t,"b",function(){return u}),o.d(t,"c",function(){return m}),o.d(t,"e",function(){return p}),o.d(t,"j",function(){return b}),o.d(t,"i",function(){return _}),o.d(t,"k",function(){return f}),o.d(t,"f",function(){return I}),o.d(t,"g",function(){return O}),o.d(t,"h",function(){return S});var n=o("QbLZ"),r=o.n(n),a=o("aK/h"),s=o("EzZj"),i=o("MNvw"),c=o("U/ze"),d=o("V6fv");const l="error",u="has_more",m="timestamp_too_old",p=Object(s.b)("Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)");p.meta={name:"eventlogGapDetected",key:"consistencyStoreEventlogGapDetected",description:"Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)"},p.propTypes={reason:a.default.oneOf([l,u,m])};const b=Object(s.b)("Store the event_ts of the last rtm message we processed prior to losing our connection");b.meta={name:"setLastKnownEventTimestamp",key:"consistencyStoreSetLastKnownEventTimestamp",description:"Store the event_ts of the last rtm message we processed prior to losing our connection"},b.propTypes=a.default.string;const _=Object(s.b)("Set a value that represents whether we are currently in the boot phase");_.meta={name:"setBootInFlight",key:"consistencyStoreSetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"},_.propTypes=a.default.bool;const f=Object(s.b)("Set a value that represents whether we are currently performing a warm boot");f.meta={name:"setWarmBootInFlight",key:"consistencyStoreSetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"},f.propTypes=a.default.bool;const h={eventlogGapCount:0,lastKnownEventTimestamp:void 0,bootInFlight:!0,warmBootInFlight:!1},g=Object(i.b)({[p]:e=>r()({},e,{eventlogGapCount:e.eventlogGapCount+1}),[b]:(e,t=Object(d.b)())=>t?r()({},e,{lastKnownEventTimestamp:t}):e,[_]:(e,t)=>r()({},e,{bootInFlight:t}),[f]:(e,t)=>r()({},e,{warmBootInFlight:t})},h,{storeKey:"consistency",persistenceEnabled:!0,beforeWriteTransform:e=>r()({},e,{bootInFlight:h.bootInFlight,warmBootInFlight:h.warmBootInFlight})});g.meta={name:"consistency",key:"consistencyStoreConsistency"},g.propTypes={eventlogGapCount:a.default.number,lastKnownEventTimestamp:a.default.string,bootInFlight:a.default.bool,warmBootInFlight:a.default.bool},t.d=g,Object(c.b)(e=>e&&e.consistency&&e.consistency.eventlogGapCount).meta={name:"getEventlogGapCount",key:"consistencyStoreGetEventlogGapCount"};const I=Object(c.b)(e=>e&&e.consistency&&e.consistency.lastKnownEventTimestamp);I.meta={name:"getLastKnownEventTimestamp",key:"consistencyStoreGetLastKnownEventTimestamp"};const O=Object(c.b)(e=>e&&e.consistency&&e.consistency.bootInFlight);O.meta={name:"isBootInFlight",key:"consistencyStoreIsBootInFlight"};const S=Object(c.b)(e=>e&&e.consistency&&e.consistency.warmBootInFlight);S.meta={name:"isWarmBootInFlight",key:"consistencyStoreIsWarmBootInFlight"}},afo6:function(e,t,o){"use strict";o.d(t,"a",function(){return ConnectivityManager});var n=o("lSe/"),r=o("q/xz"),a=o("Zr7G");const s=10,i=3e5,c="exceeded_maximum_retries";class ConnectivityManager{constructor({maxAttempts:e=s,maxRetryAfter:t=i,logLabel:o="CONNECTIVITY-MANAGER",metricsLabel:n,testConnectivity:a,shouldCollectConnectivityMetrics:c=!1}){if(!a||"function"!=typeof a)throw new Error("ConnectivityManager requires a testConnectivity function.");this._testConnectivity=a,this._logLabel=o,this._metricsLabel=n,this._shouldCollectConnectivityMetrics=!(!c||!n),this._numberOfAttempts=0,this._retryAfter=0,this._maxAttempts=e,this._maxRetryAfter=t,this._retryTimeout=null,this._promiseToTestConnection=null,Object(r.a)(this)}waitForConnectivity(){return this._promiseToTestConnection||(this._shouldCollectConnectivityMetrics&&Object(a.a)().count(`cm_flow_wait_for_connectivity_${this._metricsLabel}`),this._promiseToTestConnection=this._testConnection().tap(()=>{this._shouldCollectConnectivityMetrics&&Object(a.a)().count(`cm_flow_connected_${this._metricsLabel}`)}).finally(()=>{this._reset()})),this._promiseToTestConnection}_testConnection(){return this._testConnectivity().catch(e=>this._promiseToRetryLater({retryAfter:e&&e.retryAfter,totalRetryAttempts:e&&e.totalRetryAttempts}))}_promiseToRetryLater({retryAfter:e=this._retryAfter,totalRetryAttempts:t=this._numberOfAttempts}){window.clearTimeout(this._retryTimeout);const o=Math.min(e,this._maxRetryAfter);return this._numberOfAttempts+=1,this._numberOfAttempts>=this._maxAttempts?(Object(n.d)(this._logLabel,`Failed to establish a connection after ${t} attempt(s).`),this._shouldCollectConnectivityMetrics&&Object(a.a)().count(`cm_flow_err_exceeded_max_retries_${this._metricsLabel}`),Promise.reject(new Error(c))):(this._shouldCollectConnectivityMetrics&&Object(a.a)().count(`cm_flow_failed_to_connect_${this._metricsLabel}`),Object(n.d)(this._logLabel,`Failed to establish a connection after ${t} attempt(s); Retrying in ${o}ms.`),new Promise(e=>{this._retryTimeout=window.setTimeout(()=>{e(this._testConnection())},o)}))}_reset(){this._numberOfAttempts=0,this._promiseToTestConnection=null,window.clearTimeout(this._retryTimeout),this._retryTimeout=null}}},ayyL:function(e,t,o){"use strict";o.d(t,"u",function(){return c}),o.d(t,"r",function(){return d}),o.d(t,"g",function(){return l}),o.d(t,"s",function(){return u}),o.d(t,"b",function(){return p}),o.d(t,"c",function(){return b}),o.d(t,"e",function(){return _}),o.d(t,"f",function(){return f}),o.d(t,"h",function(){return h}),o.d(t,"i",function(){return g}),o.d(t,"t",function(){return I}),o.d(t,"p",function(){return O}),o.d(t,"v",function(){return S}),o.d(t,"n",function(){return w}),o.d(t,"l",function(){return y}),o.d(t,"m",function(){return k}),o.d(t,"k",function(){return v}),o.d(t,"q",function(){return P}),o.d(t,"j",function(){return E}),o.d(t,"o",function(){return C}),o.d(t,"d",function(){return B}),o.d(t,"a",function(){return F});var n=o("U/ze"),r=o("XL7r"),a=o("Smdl"),s=o("1zgd"),i=o("Yd+W");const c=e=>!(!e||"workflow"!==e.type),d=Object(n.b)(e=>"none"!==Object(r.k)(e,"welcome_place_state"));d.meta={name:"isWelcomePlaceOnboardingEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlaceOnboardingEnabled"};const l=Object(n.b)(e=>e&&e.welcomePlace&&e.welcomePlace.items?e.welcomePlace.items:[]);l.meta={name:"getPageItems",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageItems"};const u=Object(n.b)(e=>"enabled"===Object(r.k)(e,"welcome_place_state")&&(!Object(a.a)()||l(e).length>0));u.meta={name:"isWelcomePlacePageEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageEnabled"},Object(n.b)((e,t)=>{const o=t.channelId,n=t.messageTimestamp;return e.welcomePlace.channelMessages[o][n]}).meta={name:"getChannelMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetChannelMessage"};const m=Object(n.b)(e=>e.welcomePlace.userDetails);m.meta={name:"getUserDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetUserDetails"};const p=Object(n.b)(e=>m(e).app_file_management);p.meta={name:"getFileManagementDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetFileManagementDetails"};const b=Object(n.b)(e=>e.welcomePlace.userDetails.invite&&e.welcomePlace.userDetails.invite.inviter_id);b.meta={name:"getInviterId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInviterId"};const _=Object(n.b)(e=>e.welcomePlace.lastRequestTimestamp);_.meta={name:"getLastRequestTime",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastRequestTime"};const f=Object(n.b)(e=>e.welcomePlace.lastUsedLocale);f.meta={name:"getLastUsedLocale",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastUsedLocale"};const h=Object(n.b)(e=>e.welcomePlace.pageEntryPoint);h.meta={name:"getPageNavigationTrigger",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageNavigationTrigger"};const g=Object(n.b)(e=>e.welcomePlace.pageViewingSessionId);g.meta={name:"getPageViewingSessionId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageViewingSessionId"};const I=Object(n.b)(e=>{const t=l(e).find(e=>"workflow"===e.type);if(!c(t))return!1;const o=1e3*t.content.workflow.date_start;return Date.now()-o<6048e5});I.meta={name:"isWelcomePlacePageLinkBold",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageLinkBold"};const O=Object(n.b)(e=>e.welcomePlace.isOpenedFromSonicBoot);O.meta={name:"isOpenedFromSonicBoot",key:"welcomePlaceStoreWelcomePlaceSelectorsIsOpenedFromSonicBoot"};const S=Object(n.b)(()=>{if(!Object(a.a)())throw new Error("this selector can not be used from Legacy");return!1});S.meta={name:"shouldHideTopBanners",key:"welcomePlaceStoreWelcomePlaceSelectorsShouldHideTopBanners"};const w=Object(n.b)((e,t)=>{const o=l(e).find(e=>"workflow"===e.type);return c(o)?o.content.workflow.tasks.find(e=>e.subtype===t):null});w.meta={name:"getWorkflowTaskBySubtype",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowTaskBySubtype"};const y=Object(n.b)(e=>e.welcomePlace.isWorkflowItemCoachmarkVisible);y.meta={name:"getWorkflowItemCoachmarkVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowItemCoachmarkVisibility"},Object(n.b)(e=>e.welcomePlace.userDetails.send_message_task.send_to_channel_id).meta={name:"getSendMessageCardChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageCardChannelId"},Object(n.b)(e=>e.welcomePlace.hasSentErrorLog).meta={name:"getHasSentErrorLog",key:"welcomePlaceStoreWelcomePlaceSelectorsGetHasSentErrorLog"};const j=Object(n.b)(e=>e.welcomePlace.experiment);j.meta={name:"getExperiment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperiment"};const T=Object(n.b)(e=>e.welcomePlace.treatment);T.meta={name:"getExperimentTreatment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperimentTreatment"};const k=Object(n.b)(e=>{const t=l(e).find(e=>"workflow"===e.type&&c(e));if(!t)return{total:0,completed:0};const o=t.content.workflow.tasks.filter(s.a),n=o.filter(e=>"completed"===e.state).length,r=o.find(e=>"completed"!==e.state);return{total:o.length,completed:n,nextTaskType:r&&r.subtype}});k.meta={name:"getWorkflowProgress",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowProgress"};const v=Object(n.b)(e=>{const t=m(e).send_message_task;let o="";return"dm"===t.type&&(o=t.send_to_dm_id),"channel"===t.type&&(o=t.send_to_channel_id),o});v.meta={name:"getSendMessageCardConversationId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageCardConversationId"};const P=Object(n.b)(e=>{return"completed"===(w(e,i.d.SendMessage)||{}).state});P.meta={name:"isSendMessageTaskCompleted",key:"welcomePlaceStoreWelcomePlaceSelectorsIsSendMessageTaskCompleted"};const E=Object(n.b)(e=>Object(r.k)(e,"send_your_first_message_banner_enabled"));E.meta={name:"getPostSendMessageBannerVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPostSendMessageBannerVisibility"};const D=Object(n.b)(e=>"newxp_3100_1"===j(e));D.meta={name:"isInV11Experiment",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInV11Experiment"};const A=Object(n.b)(e=>"newxp_2372_2"===j(e));A.meta={name:"isInV12Experiment",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInV12Experiment"};const W=Object(n.b)(e=>"newxp_3567"===j(e));W.meta={name:"isInTenuredTeamsExperiment",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInTenuredTeamsExperiment"},Object(n.b)(e=>W(e)&&"treatment_a"===T(e)).meta={name:"isInTenuredTeamsTreatmentA",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInTenuredTeamsTreatmentA"};const C=Object(n.b)(e=>W(e)&&"treatment_b"===T(e));C.meta={name:"isInTenuredTeamsTreatmentB",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInTenuredTeamsTreatmentB"};const B=Object(n.b)(e=>{let t="";return W(e)?t="tenured_teams":A(e)?t="v1.2":D(e)&&(t="v1.1"),t});B.meta={name:"getIteration",key:"welcomePlaceStoreWelcomePlaceSelectorsGetIteration"};const F=Object(n.b)(e=>e.welcomePlace.isAnimationStarted);F.meta={name:"getAnimationState",key:"welcomePlaceStoreWelcomePlaceSelectorsGetAnimationState"}},bmqc:function(e,t,o){},btH0:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("wHps");function r(e){return Object.values(n.a).includes(e)}},"d/52":function(e,t,o){"use strict";o.r(t);var n=o("QbLZ"),r=o.n(n),a=o("/74f"),s=o("Omjo"),i=o("qe1s"),c=o("4Ms+"),d=o("Gogr"),l=o("lKeU"),u=o("HuaI"),m=o("IY6O"),p=o("TSHB"),b=o("m8R6"),_=o("fujP"),f=o("7EGn"),h=o("g5qt"),g=o("VMwU"),I=o("cErB");const O=()=>{var e=Object(h.w)();const t=e.teams,o=e.enterprise;if(!t)return null;const n=({theme:e}={})=>e&&e.column_bg&&Object(g.c)(e.column_bg,20),r=({team_id:e}={})=>o&&o[e]&&o[e].enterpriseId,a=({team_url:e}={})=>{if(!e)return"";var t=Object(I.k)(e);const o=t.host;return`${t.protocol}//${o}/`},s=Object.keys(Object(d.c)("teams")||{}),i=Object(b.a)(t,s);return Object(p.a)(i,e=>({id:e.team_id,name:e.team_name,url:a(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:r(e),teamSwitcherBackground:n(e),isExpired:!0}))};var S=o("vATg"),w=o("sDWr"),y=o("KXvl");o("bmqc");const j=".p-client_container_placeholder";function T(){const e=document.querySelector(j);e&&e.remove()}var k=o("JtEI"),v=o("A4VO"),P=o("rWF5"),E=o("rb67");const D=Object(P.g)();D!==P.a.SAFARI&&D!==P.a.EDGE||Object(E.e)(),window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),Promise.resolve(Object(c.b)({label:`setupGantry_${Object(k.a)(Object(v.a)())}`},a.a)).then(({teamId:e,forceColdBoot:t,triggerSignInAfterBoot:o})=>{return Object(P.v)()&&!Object(d.c)("migratedDesktopLocalConfig")&&(!function(){const e=Object(d.c)("prevTeams"),t=Object(_.a)(e)?h.V&&O():e;Object(d.h)("prevTeams",t);const o=Object(d.c)("orderedTeamIds"),n=Object(_.a)(o)?Object(f.a)(Object(h.w)(),"appTeams.teamsByIndex",[]):o;Object(d.h)("orderedTeamIds",n)}(),Object(d.h)("migratedDesktopLocalConfig",!0)),function({teamId:e,showTeamSwitcher:t=!1}){const o=Object(d.d)(e,"channelSidebarBackground"),n=Object(d.d)(e,"teamSwitcherBackground"),r=document.querySelector(j);r&&(o?(Object(y.b)()&&t&&(r.classList.add("p-client_container_placeholder--with-team-switcher"),r.style.borderLeftColor=n),r.style.backgroundColor=o,r.style.display="block"):T())}({teamId:e,showTeamSwitcher:Object(l.a)().length>1}),Object(c.b)({label:`bootClient_${Object(k.a)(t)}`},function(){return Object(w.q)(),e!==Object(d.c)("lastActiveTeamId")&&Object(d.h)("lastActiveTeamId",e),Object(i.a)({teamId:e,shouldSetFocus:!0}).then(e=>{const t=Date.now(),n=e.store,a=e.bootAssets,s=e.isWarmBooting,i=a.isJsPath,c=a.mountClient,d=a.isReload,l=a.isQa,u=a.isDev,m=a.registerGlobalErrorHandler,p=a.registerGlobalBeforeunloadHandler,b=a.registerNetworkConnectivityListener;m(),p(),b();const _=n.getState(),f=a.getTelemeter({state:_}),h=s?"warm":"cold";i||u||l||(f.store(`sonic_boot_phase_2_${h}`,Date.now()-window.sonic_boot__phase_2__start),d()&&f.count("sonic_boot_via_reload"));let g=!0;return T(),c(document.querySelector(".p-client_container"),()=>{i||u||l||!g||(f.store(`sonic_boot_phase_3_${h}`,Date.now()-t),g=!1)}),r()({},e,{triggerSignInAfterBoot:o})})})}).catch(e=>{T(),Object(S.f)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})}).tap(function(e){return e.bootAssets.listenForLongTasks(e),Promise.resolve(e)}).tap(function({bootAssets:e,triggerSignInAfterBoot:t}={}){if(!t)return;const o=e.startWorkspaceSignIn;(0,e.getClientStoreInstance)().dispatch(o())}).then(function(e){if(!Object(y.b)())return Promise.resolve(e);const t=e.teamId,o=e.bootAssets.getAllWorkspacesFromLocalConfig(),n=e.bootAssets.getWorkspacesMetaFromLocalConfig(),r=o.filter(e=>n[e]&&!n[e].isExpired).filter(e=>e!==t);return Object(s.b)("BOOT",`Booting other teams: ${r.join(",")}`),r.map(e=>i.a.bind(null,{teamId:e})).reduce((e,t,o)=>e.catch(e=>{Object(S.a)(r[o-1],e)}).finally(t),Promise.resolve()).then(()=>e)}).then(function(e){return(0,e.bootAssets.storeSSBMemoryStatsOnAnInterval)(),Promise.resolve(e)}).then(function(e){return(0,e.bootAssets.storeReduxStoreStatsOnAnInterval)(),Promise.resolve(e)}).then(function(e){const t=e.bootAssets,o=t.registerServiceWorker,n=t.fetchApiCallsForCaching;(0,t.isServiceWorkerAvailable)()&&(navigator.serviceWorker.addEventListener("controllerchange",()=>{n(e)}),o());return Promise.resolve(e)}).then(function(e){const t=e.bootAssets,o=t.isJsPath,n=t.isProduction,r=t.removeUrlQueryStringValue;if(n&&!o){if(window.location.search.match("force_cold_boot")){const e=r(window.location.href,"force_cold_boot");window.history.replaceState({},"",e)}if(window.location.search.match("new_enough_acceptable")){const e=r(window.location.href,"new_enough_acceptable");window.history.replaceState({},"",e)}}return Promise.resolve(e)}).then(function(e){const t=e.bootAssets.getAllWorkspacesFromLocalConfig();return e.bootAssets.clearAllPersistedDataExceptForTeamIds(t).then(()=>e)}).then(function(e){var t=e.bootAssets;const o=t.getClientStoreInstance,n=t.getStoreInstanceByTeamId,r=t.initPersistenceForTeam,a=o();return Object(m.getBootedWorkspaces)(a.getState()).forEach(e=>{const t=n(e);r({teamId:e,store:t})}),Promise.resolve(e)}).then(function(e){return(0,e.bootAssets.getClientStoreInstance)().dispatch(Object(u.setDidBootAllWorkspaces)()),Promise.resolve(e)})},hgYl:function(e,t,o){"use strict";o.d(t,"a",function(){return r}),o.d(t,"b",function(){return a});var n=o("Smdl");const r=["calendar","files","downloads","whats_new","shortcuts","details","apps",...Object(n.a)()?["search_results","activity","starred_items","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","actions"]:["convo","groups","team","stars","mentions"]],a={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings"}},jr0b:function(e,t,o){"use strict";o.d(t,"a",function(){return n});const n={SUCCESS:"success",ERROR:"error"}},lKeU:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("cZF4"),r=o("Muja"),a=o("0VPD"),s=o("Gogr");function i(){const e=Object.keys(Object(s.c)("teams")||{}),t=Object.keys(Object(s.c)("prevTeams")||{}),o=Object(n.a)(e,t),i=Object(s.c)("orderedTeamIds"),c=Object(n.a)(Object(a.a)(i,o),e);return Object(r.a)(c,i)||Object(s.h)("orderedTeamIds",c),c}},qe1s:function(e,t,o){"use strict";var n=o("QbLZ"),r=o.n(n),a=o("xnu4"),s=o("Omjo"),i=o("lhZz"),c=o("8Az7"),d=o("vATg"),l=o("A4VO"),u=o("Gogr"),m=o("rkcT"),p=o("cewN"),b=o("cErB"),_=o("TdUT"),f=o("sekS"),h=o("IbTH"),g=o("YjHT"),I=o("nNoG"),O=o("BNw7"),S=o("toaU"),w=o("POHe"),y=o("iTOt"),j=o("0QyR"),T=o("jngr"),k=o("JtEI"),v=o("DlLn"),P=o("fhz1"),E=o("KXvl");function D(e){if(!e.shouldSetFocus)return Promise.resolve(e);const t=e.teamId,o=e.bootAssets,n=o.configureClientStore,r=o.getAllWorkspacesFromLocalConfig,a=o.getWorkspacesMetaFromLocalConfig,s=o.initializeWorkspacesStore,i=n(),c=Object(E.b)()?r():[t],d=a();return i.dispatch(s({focusedWorkspace:t,allWorkspaces:c,workspacesMeta:d})),Promise.resolve(e)}function A(e){return e.shouldSetFocus?(e.bootAssets.registerRouteListeners(),Promise.resolve(e)):Promise.resolve(e)}const W="ensure_boot_data_failed",C=["user_removed_from_team","invalid_auth","not_authed","userLogin"],B="accesslimited",F="two_factor_setup_required";function R(e,t){if(window.isReloading)return Object(s.b)("BOOT",`(${e.teamId}) Ongoing reload detected during ensure boot data error handler; Halting execution.`),Object(O.a)();if(t&&t.data&&t.data.error===F)return Object(P.a)(e.teamId);if(t&&t.data&&t.data.error&&C.includes(t.data.error)&&!t.doNotFetchAuth)return Object(v.e)();const n=!!(t&&t.data&&t.data.active_migration),a=!(!t||!t.data||t.data.error!==B),i=r()({},e,{bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:a});return n||(Object(s.a)("Caught boot data error",t),Object(T.a)({err:t,teamId:e.teamId,description:`${Object(k.c)()} boot failed to fetch boot data`,subtype:`${Object(k.c)()}_boot_data_error`,version:Object(_.a)()})),function(e){let t=function(e){return Promise.all([o.e(0),o.e(97),o.e(103),o.e(10),o.e(24)]).then(o.bind(null,"OrkY")).then(t=>r()({},e,{bootAssets:t}))}(e);e.shouldSetFocus&&(t=t.then(L));return t.then(x)}(i).then(e=>{const t=new Error(W);throw t.context=e,t})}function L(e){return D(e).then(A).then(()=>{return(0,e.bootAssets.registerServiceWorker)(),Promise.resolve(e)})}function x(e){const t=e.teamId,o=e.bootAssets,n=e.bootFailedDueToOrgMigration,a=e.bootFailedDueToAccessLimited,i=o.configureStore,c=o.reducers,d=o.setWorkspaceFailedToBoot,l=o.setWorkspaceIsMigrating,u=o.setWorkspaceIsAccessLimited,m=o.getClientStoreInstance,p=o.navigateToRoute,b=o.setWillNavigateToUnbootedWorkspaceId,_=o.getWillNavigateToUnbootedWorkspaceId;Object(s.c)("BOOT",`(${e.teamId}) failed to create store; initializing empty team store`);const f=i({teamId:t,initialState:{},reducers:c}),h=r()({},e,{store:f}),g=m();return g.dispatch(d(t)),n&&(g.dispatch(l(t)),Object(s.c)("BOOT",`(${e.teamId}) Workspace boot failed due to active migration`)),a&&g.dispatch(u(t)),_(g.getState())===t?(p(S.a,{teamId:t},{reason:"delayed-unbooted-team-switch"}),g.dispatch(b(null)),Promise.resolve(e)):Promise.resolve(h)}o.d(t,"a",function(){return $});let M={};function $({teamId:e,shouldSetFocus:t=!1}){return window.isReloading?(Object(s.b)("BOOT",`(${e}) Ongoing reload detected; Cancelling boot.`),Object(O.a)()):M[e]?M[e]:(M[e]=function(e,t){Object(s.b)("BOOT",`(${e}) Initializing boot`);const o=Object(l.a)(),n=Object(u.d)(e,"token"),r=Object(u.d)(e,"user_id"),a=Object(p.a)(window.location.search),i=Object(f.a)(window.location.search,document.cookie);return Promise.resolve({teamId:e,teamToken:n,forceColdBoot:o,featureFlagURLOverrides:a,experimentGroupOverrides:i,shouldSetFocus:t,shouldRetry:!0,userId:r,bootedOffline:!window.navigator.onLine})}(e,t).then(t=>(function(e){return Object(c.c)(e.teamToken,e.teamId),Promise.resolve(e)})(t).then(U).then(N).then(G).then(q).then(D).then(A).then(H).then(V).then(Q).then(K).then(Z).then(Y).then(J).then(ee).then(te).then(oe).then(ne).then(re).then(ae).then(se).catch(o=>{if(X(e),o&&o.message===W){return o.context}return Object(d.f)(o,r()({},t,{teamId:e,locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,doRenderClientErrorView:!0}))})),M[e])}function U(e){const t={},n=e.teamId,a=e.teamToken,s=e.forceColdBoot,i=e.shouldSetFocus,c=e.store,l=e.userId,u=e.bootedOffline;let p=Object(m.c)({store:c,shouldSetFocus:i});if(!p){const e=Object(m.d)(n);e&&(p=e)}const b=[Promise.all([o.e(0),o.e(97),o.e(103),o.e(10),o.e(24)]).then(o.bind(null,"OrkY")).then(e=>(t.sonic_boot__phase_2_2_1_1__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(d.b.bind(null,n)),Object(j.a)({teamId:n,teamToken:a,routeInfo:p,forceAPI:s,userId:l,shouldSetFocus:i,bootedOffline:u,reason:"initial-data"}).then(e=>(t.sonic_boot__phase_2_2_1_2__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(R.bind(null,e)),Object(h.a)(Object(I.s)({recalc:!0,teamId:n})).then(e=>(t.sonic_boot__phase_2_2_1_3__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(d.d.bind(null,n))];return Promise.all(b).then(([o,{isWarmBooting:n,bootData:a}={}])=>{t.sonic_boot__phase_2_2_1__duration=Date.now()-window.sonic_boot__phase_2__start,t.sonic_boot__phase_2_2_2__start=Date.now();const s=r()({},e,{bootAssets:o,bootData:a,isWarmBooting:n,timing:t,routeInfo:p});return a&&a.miscBootData&&"should_reload"in a.miscBootData?z(s):s})}function N(e){var t=e||{};const o=t.bootData,n=t.isWarmBooting,r=t.teamId;if(n)return Promise.resolve(e);var a=o||{};const i=a.miscBootData;const c=(a.teamData||{}).domain;const d=(i||{}).acceptTosUrl;if(!d||!c)return Promise.resolve(e);const l=Object(p.f)(location.search,"force_cold_boot",1),u=`/gantry${location.pathname}${l}`,m=Object(b.p)(d,"redirect",u);return Object(s.b)("BOOT",`(${r}) User needs to accept the terms of service; redirecting to ${m}`),location.assign(m),Object(O.a)()}function G(e){const t=e.teamId,o=e.bootAssets,n=o.setLocale,r=o.getLocale;return Promise.resolve(n(r({teamId:t,recalc:!0}),t,{shouldEnsureTranslationBundle:!1})).then(()=>e)}function q(e){const t=e.teamId,o=e.isWarmBooting,n=e.bootAssets,a=e.featureFlagURLOverrides,s=e.bootData,i=n.getImmediatelyPersistedState,c=n.reducers,l=n.purgeStoredModel,u=n.forceColdBoot,m=n.processStoredState;return(()=>o?m({teamId:t,reducerConfig:c,storedState:s}):Promise.resolve({}))().then(n=>{if(!n)return u({reason:"getStoredStateIfValid didn\u2019t return any stored state",reasonKey:"warm_boot_without_stored_state",immediate:!0}),Object(O.a)();const d=r()({},n,{bootData:r()({},n.bootData,a,{version_ts:Object(_.a)()})}),l=o?n&&n.bootData&&n.bootData.user_id:s&&s.selfData&&s.selfData.id,m=i({teamId:t,userId:l,reducerConfig:c,state:d}),p=r()({initialState:m,userId:l},e);return m&&m.bootData&&"should_reload"in m.bootData?z(p):p}).catch(e=>(Object(d.e)(t,l,u,e),Object(O.a)()))}function H(e){return(0,e.bootAssets.loadEmojiTranslations)(),e}function V(e){const t=e.teamId;return e.bootAssets.populateTeamDebugger(t),Promise.resolve(e)}function Q(e){const t=e.teamToken,o=e.teamId,n=e.bootAssets,r=e.bootData,a=e.initialState,s=e.isWarmBooting?a&&a.bootData:r&&r.miscBootData;return s&&"should_reload"in s?Promise.resolve(e):(n.maybeReloadForMinVersionBumpFromApi({teamToken:t,teamId:o,reason:"sonic boot"}),Promise.resolve(e))}function z(e){const t=e.initialState,o=e.bootAssets,n=e.bootData,a=e.isWarmBooting,s=a?t&&t.bootData:n&&n.miscBootData;return s&&"should_reload"in s?o.maybeReloadForMinVersionBumpFromBootData({isWarmBooting:a,bootData:s}).then(t=>t?Object(O.a)():r()({},e,{isReloadingForMinVersionBump:t})):Promise.resolve(e)}function K(e){if(!e.isWarmBooting)return e;Object(s.b)("BOOT",`(${e.teamId}) Booting warm`);const t=e.teamId,o=e.bootAssets,n=e.experimentGroupOverrides;var a=e.initialState;const i=void 0===a?{}:a,c=o.configureStore,d=o.reducers,l=o.overrideExperimentAssignments,u=c({teamId:t,initialState:i,reducers:d});u.dispatch(Object(g.k)(!0)),n&&n.all&&u.dispatch(l(n.all)),n&&n[t]&&u.dispatch(l(n[t]));const m=e.timing||{};m.sonic_boot__phase_2_2_2__duration=Date.now()-m.sonic_boot__phase_2_2_2__start;const p=r()({},e,{store:u,timing:m});return Promise.resolve(p)}function Z(e){if(e.isWarmBooting)return e;Object(s.b)("BOOT",`(${e.teamId}) Booting cold`);const t=e.teamId,o=e.bootData,n=e.bootAssets,a=e.featureFlagURLOverrides,i=e.experimentGroupOverrides,c=e.shouldSetFocus;var d=e.initialState;const l=void 0===d?{}:d,p=n.dispatchBootData,b=n.getMembersById,_=n.configureStore,f=n.reducers;return(0,n.checkForPersistenceMethodChanges)(t).then(()=>{const n=_({teamId:t,reducers:f,initialState:l}),s=r()({},e,{store:n});let d=Object(m.c)({store:n,shouldSetFocus:c});if(n.dispatch(Object(g.k)(!1)),!d){const e=Object(m.d)(t);e&&(d=e)}p(n,o,d,a,i);const h=n.getState(),I=(o&&o.membersToFetch||[]).filter(e=>!(h&&h.members&&h.members[e]));b(h,I);const O=s.timing||{};O.sonic_boot__phase_2_2_2__duration=Date.now()-O.sonic_boot__phase_2_2_2__start;const S=Object(u.c)("lastColdBootTs"),w=Date.now();S&&(O.sonic_boot_time_between_cold_boots=w-S),Object(u.h)("lastColdBootTs",w);const y=r()({},s,{timing:O});return X(t),Promise.resolve(y)})}function X(e){const t=Object(i.getStoreInstanceByTeamId)(e);t&&(Object(s.b)("BOOT",`(${e}) Boot complete`),w.a.delete("setNavigatedDuringWarmBoot"),t.dispatch(Object(g.i)(!1)))}function Y(e){const t=e.store,o=e.teamId;var n=e.bootAssets;const i=n.getLocaleFeatureFlags,c=n.localesEnabled,d=n.queryStringParse,l=n.resetCredentials,u=n.removeUrlQueryStringValue,m=n.getLocale,p=i(t.getState()),b=c(Object.keys(p).reduce((e,t)=>r()({},e,{[Object(a.a)(t)]:p[t]}),{})),_=d(window.location.search),f=m();return!b[f]&&Object.keys(_).includes("locale")?(Object(s.b)("BOOT",`team ${o} attempted to boot into locale ${f} which has not been enabled; clearing credentials and reloading app`),l(),window.location=u(window.location.href,"locale"),Object(O.a)()):Promise.resolve(e)}function J(e){const t=e.shouldSetFocus,o=e.store,n=e.bootAssets,r=e.isWarmBooting,a=e.teamId,s=n.getRouteName,i=n.getRouteParams,c=n.updateCurrentRoute,d=n.getCurrentRouteInfo,l=n.navigateToRoute,u=n.getClientStoreInstance,p=n.setWillNavigateToUnbootedWorkspaceId,b=n.getWillNavigateToUnbootedWorkspaceId,_=u();if(b(_.getState())===a)return l(S.a,{teamId:a},{reason:"delayed-unbooted-team-switch"}),_.dispatch(p(null)),Promise.resolve(e);if(!t)return Promise.resolve(e);if(r){const e=d(window.location.pathname,{throwOnNoRoute:!1});if(e&&e.params&&e.params.entityId)o.dispatch(c(e));else{const e=Object(m.d)(a);e&&o.dispatch(c(e))}}if(Object(y.f)(o.getState()))return Promise.resolve(e);const f=o.getState();return l(s(f),i(f),{shouldReplaceState:!0}),Promise.resolve(e)}function ee(e){const t=e.store,o=e.bootAssets,n=e.isWarmBooting?"warm":"cold";return t.dispatch(o.setBootType(n)),Promise.resolve(e)}function te(e){const t=e.teamId,o=e.bootAssets,n=e.store,r=o.getClientStoreInstance,a=o.setWorkspaceBooted,s=o.setWindow,i=o.getWindow,c=o.hasWorkspaceFailedToBoot,d=r(),l=d.getState(),u=i(l);return n.dispatch(s(u)),c(l,t)?Promise.resolve(e):(d.dispatch(a(t)),Promise.resolve(e))}function oe(e){if(e.isWarmBooting)return e;const t=e.bootAssets.setLocalConfigForTeamWithKey,o=document.documentElement;let n=!(!o||!o.dataset)&&o.dataset.versionTs;return"dev"!==n&&(n=parseInt(n,10)),t(e.teamId,"versionDataTs",n),Promise.resolve(e)}function ne(e){return e.bootAssets.connectSocket(e)}function re(e){const t=e.bootAssets,o=e.store,n=e.teamId,a=e.teamToken,i=e.featureFlagURLOverrides,c=e.experimentGroupOverrides,d=e.userId,l=e.isWarmBooting,u=t.dispatchBootData,p=t.getMembersById,b=t.maybeReloadSlashCommands,_=t.maybeReloadEmoji,f=t.fetchAndUpsertWhatsNewUpdates,h=t.loadAppActions,I=t.shouldSetFocus,O=t.maybeCountServiceWorkerNetworkStackFailureRefresh;if(l){Object(s.b)("BOOT",`(${n}) Fetching fresh boot data after booting with persisted store`);const t=!0,l=Object(m.c)({store:o,shouldSetFocus:I});Object(j.a)({teamId:n,teamToken:a,routeInfo:l,forceAPI:t,userId:d,shouldSetFocus:I,reason:"deferred-data"}).then(({bootData:t}={})=>t&&t.miscBootData&&"should_reload"in t.miscBootData?z(r()({},e,{isWarmBooting:!1,bootData:t})).then(()=>t):t).then(t=>{o.dispatch(Object(g.k)(!1)),u(o,t,l,i,c);const n=o.getState(),a=(t&&t.membersToFetch||[]).filter(e=>!(n&&n.members&&n.members[e]));p(n,a);const s=r()({},e,{isWarmBooting:!1});J(s),N(r()({},s,{bootData:t})),se(e)}).finally(()=>{X(n)})}return setTimeout(()=>{o.dispatch(b()),o.dispatch(_()),o.dispatch(h()),o.dispatch(f({reason:"boot-team"})),O()},0),Promise.resolve(e)}function ae(e){const t=e.store,o=e.bootAssets,n=e.shouldSetFocus,r=e.isWarmBooting,a=e.timing,s=e.bootedOffline,i=o.getTelemeter,c=o.isJsPath,d=o.isQa,l=o.isDev,u=o.getDesktopPreloadTime,m=o.getClientStoreInstance,p=o.setShouldLogTTUMetrics,b=o.setShouldLogAppBootMetrics,_=o.ttiPolyfill,f=i({state:t.getState()}),h=r?"warm":"cold";if(c||l)return Promise.resolve(e);if(d)return Promise.resolve(e);if(n){if(s){f.count("sonic_boot_offline");const t=m();return t.dispatch(p(!1)),t.dispatch(b(!1)),Promise.resolve(e)}const t=o.isReload()?"_reload":"";f.count("sonic_boot"),o.isReload()&&f.count("sonic_boot_reload");const n=u();if(n>0&&f.store(`sonic_boot_desktop_preload${t}`,n),window.performance&&window.performance.getEntriesByName){const e=`${window.location.origin}${window.location.pathname}`,t=window.performance.getEntriesByName(e);if(t&&t[0]){const e=t[0],o=e.requestStart-e.workerStart,n=0===o?"awake":"asleep";f.count(`sonic_boot_sw_status_${n}`),f.store(`sonic_boot_sw_startup_time_${h}`,o)}}window.performance&&window.performance.timing&&window.performance.timing.fetchStart>0&&(f.store(`sonic_boot_window__connectStart_${h}${t}`,window.performance.timing.connectStart-window.performance.timing.fetchStart),f.store(`sonic_boot_window__connectEnd_${h}${t}`,window.performance.timing.connectEnd-window.performance.timing.fetchStart),f.store(`sonic_boot_window__requestStart_${h}${t}`,window.performance.timing.requestStart-window.performance.timing.fetchStart),f.store(`sonic_boot_window__responseStart_${h}${t}`,window.performance.timing.responseStart-window.performance.timing.fetchStart),f.store(`sonic_boot_window__responseEnd_${h}${t}`,window.performance.timing.responseEnd-window.performance.timing.fetchStart),f.store(`sonic_boot_window__domLoading_${h}${t}`,window.performance.timing.domLoading-window.performance.timing.fetchStart),f.store(`sonic_boot_phase_1_${h}${t}`,window.sonic_boot__phase_1__duration+n)),f.store(`sonic_boot_phase_2_1_${h}`,0),f.store(`sonic_boot_phase_1_5_${h}`,window.sonic_boot__phase_1_5__duration);const r=Date.now()-window.sonic_boot__phase_2__start;f.store(`sonic_boot_phase_2_2_${h}`,r),f.store(`sonic_boot_phase_2_2_1_${h}`,a.sonic_boot__phase_2_2_1__duration),f.store(`sonic_boot_phase_2_2_1_1_${h}`,a.sonic_boot__phase_2_2_1_1__duration),f.store(`sonic_boot_phase_2_2_1_2_${h}`,a.sonic_boot__phase_2_2_1_2__duration),f.store(`sonic_boot_phase_2_2_1_3_${h}`,a.sonic_boot__phase_2_2_1_3__duration),f.store(`sonic_boot_phase_2_2_2_${h}`,a.sonic_boot__phase_2_2_2__duration),f.store(`sonic_boot_phase_2_2_3_${h}`,r-a.sonic_boot__phase_2_2_1__duration-a.sonic_boot__phase_2_2_2__duration),_.getFirstConsistentlyInteractive().then(e=>{f.store(`sonic_tti_${h}`,e)}),a.sonic_boot_time_between_cold_boots&&f.store("sonic_boot_time_between_cold_boots",a.sonic_boot_time_between_cold_boots)}return Promise.resolve(e)}function se(e){const t=e.teamId,o=e.store,n=e.bootAssets,r=o.getState();return n.saveColorsToLocalConfig(t,r),Promise.resolve(e)}},rkcT:function(e,t,o){"use strict";o.d(t,"c",function(){return d}),o.d(t,"a",function(){return l}),o.d(t,"b",function(){return u}),o.d(t,"d",function(){return m});var n=o("Omjo"),r=o("kLJo"),a=o("lhZz"),s=o("Gogr"),i=o("iTOt"),c=o("toaU");function d({store:e,shouldSetFocus:t}={}){const o=Object(r.e)(window.location.pathname,{throwOnNoRoute:!1});if(o&&t&&o.routeName!==c.a)return o;if(!e)return null;const n=Object(i.b)(e.getState());return n?{routeName:n,params:Object(i.c)(e.getState())}:null}function l(){return Object(r.b)(({nextTeamId:e,routeName:t,params:o})=>{Object(a.getStoreInstanceByTeamId)(e)&&Object(a.dispatchForTeamId)(e,Object(i.e)({routeName:t,params:o}))})}function u(e){Object(n.b)("BOOT",`(${e.teamId}) Connecting to socket`);const t=e.store,o=e.teamToken,r=e.bootAssets,a=e.teamId,s=r.start;return(0,r.createInstanceForTeam)(a),t.dispatch(s(o)),Promise.resolve(e)}function m(e){const t=Object(s.d)(e,"lastRoute");return t&&t.params&&t.params.entityId?t:null}},sDWr:function(e,t,o){"use strict";var n=o("kLJo"),r=o("toaU"),a=o("/gpl"),s=o("J9z2"),i=o("+1yX"),c=o("UUlk"),d=o("FHcd"),l=o("k2C/"),u=o("uFGw");const m=/^[\d]{10}\.[\d]{6}$/;function p(e){return m.test(e)}const b=/^(C|G|D)[A-Z0-9]{8}-[\d]{10}\.[\d]{6}$/;var _=o("NFsq"),f=o("hgYl");var h=o("btH0"),g=o("+Sjy"),I=o("Er5K"),O=o("wCpp");o.d(t,"a",function(){return S}),o.d(t,"k",function(){return w}),o.d(t,"d",function(){return y}),o.d(t,"b",function(){return j}),o.d(t,"j",function(){return T}),o.d(t,"h",function(){return k}),o.d(t,"g",function(){return v}),o.d(t,"n",function(){return P}),o.d(t,"m",function(){return E}),o.d(t,"p",function(){return D}),o.d(t,"i",function(){return A}),o.d(t,"f",function(){return W}),o.d(t,"e",function(){return C}),o.d(t,"o",function(){return B}),o.d(t,"c",function(){return F}),o.d(t,"l",function(){return R}),o.d(t,"q",function(){return M});const S="ROUTE_ENTITY",w="ROUTE_FLEX_THREAD",y="ROUTE_FLEX_DETAILS",j="ROUTE_FLEX_ACTIVITY_PANE",T="ROUTE_FLEX_STARRED",k="ROUTE_FLEX_FILES",v="ROUTE_FLEX_FILE",P="ROUTE_FLEX_USER_GROUPS",E="ROUTE_FLEX_USER_GROUP",D="ROUTE_FLEX_WHATS_NEW",A="ROUTE_FLEX_SHORTCUTS",W="ROUTE_FLEX_DOWNLOADS",C="ROUTE_FLEX_DIRECTORY",B="ROUTE_FLEX_USER_PROFILE",F="ROUTE_FLEX_APP_PROFILE",R="ROUTE_FLEX_USER_CALENDAR",L={entityId:e=>Object(a.a)(e)||Object(s.a)(e)||Object(i.a)(e)||Object(c.a)(e)||Object(d.a)(e)||Object(l.a)(e)||Object(u.a)(e)||Object(h.a)(e)||Object(g.f)(e),appOrServiceId:e=>Object(s.a)(e)||Object(a.a)(e),timestamp:p,threadId:function(e){return b.test(e)},replyTs:p,sectionId:function(e){return Object(_.a)(f.a,e)||""===e},tabId:e=>Object(I.c)(e),draftId:O.c},x={[r.a]:{paths:["/"]},[S]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:draftId"]},[w]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId"]},ROUTE_FLEX_CHANNEL_INFO:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info"]},[y]:{paths:["/:entityId/details","/:entityId/:timestamp/details","/:entityId/:tabId/details","/:entityId/details/:sectionId","/:entityId/:timestamp/details/:sectionId","/:entityId/:tabId/details/:sectionId","/:entityId/:draftId/details/:sectionId"]},[j]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity"]},[T]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items"]},[k]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:tabId/files","/:entityId/:draftId/files"]},[v]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId"]},ROUTE_FLEX_FILE_TYPE:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type"]},ROUTE_FLEX_FILE_USER:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId"]},[P]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups"]},[E]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId"]},[D]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new"]},[A]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts"]},[W]:{paths:["/:entityId/downloads","/:entityId/:timestamp/downloads","/:entityId/:tabId/downloads","/:entityId/:draftId/downloads"]},[C]:{paths:["/:entityId/directory","/:entityId/:timestamp/directory","/:entityId/:tabId/directory","/:entityId/:draftId/directory"]},[B]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId"]},[F]:{paths:["/:entityId/app_profile/:appOrServiceId","/:entityId/:timestamp/app_profile/:appOrServiceId","/:entityId/:tabId/app_profile/:appOrServiceId","/:entityId/:draftId/app_profile/:appOrServiceId"]},[R]:{paths:["/:entityId/calendar","/:entityId/:timestamp/calendar","/:entityId/:tabId/calendar","/:entityId/:draftId/calendar"]}};function M(){Object(n.d)(L,x)}},sekS:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("QbLZ"),r=o.n(n),a=o("cewN"),s=o("cW5R");const i=["force_cold_boot"];function c(e,t){const o={},n=r()({},Object(s.b)(t),Object(a.d)(e));return Object.keys(n).forEach(e=>{if(e.startsWith("force_")&&!i.includes(e)&&n[e]){const t=e.slice(6);n[e].split(",").forEach(e=>{let n="all",r=e;const a=e.indexOf(":");a>=0&&(n=e.slice(0,a),r=e.slice(a+1)),o[n]||(o[n]={}),o[n][t]=r})}}),o}},vRZS:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("g5qt");function r(){return n.V}},wCpp:function(e,t,o){"use strict";o.d(t,"b",function(){return a}),o.d(t,"a",function(){return s}),o.d(t,"c",function(){return i});var n=o("sk9p"),r=o.n(n);function a(e){if(e)return`draft-${e}`}function s(e){if(!e)return;var t=e.match(/^draft-(.+)/)||[];return r()(t,2)[1]}function i(e){return/^draft-.+/.test(e)}},wHps:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("4v0o");const r={[n.a.allUnreads]:"unreads",[n.a.allThreads]:"threads",[n.a.search]:"search"}}},[["d/52",2,43,17,101,10]]]);